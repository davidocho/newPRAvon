var ie7,BrowserDetect,select2OpenTime;window.Modernizr=function(n,t,i){function a(n){c.cssText=n}function vt(n,t){return a(y.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function v(n,t){return!!~(""+n).indexOf(t)}function lt(n,t){var u,r;for(u in n)if(r=n[u],!v(r,"-")&&c[r]!==i)return t=="pfx"?r:!0;return!1}function yt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function f(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+ot.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?lt(u,t):(u=(n+" "+st.join(r+" ")+r).split(" "),yt(u,t,i))}function pt(){u.input=function(i){for(var r=0,u=i.length;r<u;r++)w[i[r]]=!!(i[r]in o);return w.list&&(w.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(n){for(var u=0,r,f,e,h=n.length;u<h;u++)o.setAttribute("type",f=n[u]),r=o.type!=="text",r&&(o.value=g,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&o.style.WebkitAppearance!==i?(s.appendChild(o),e=t.defaultView,r=e.getComputedStyle&&e.getComputedStyle(o,null).WebkitAppearance!=="textfield"&&o.offsetHeight!==0,s.removeChild(o)):/^(search|tel)$/.test(f)||(r=/^(url|email)$/.test(f)?o.checkValidity&&o.checkValidity()===!1:o.value!=g)),ht[n[u]]=!!r;return ht}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},d=!0,s=t.documentElement,e="modernizr",ut=t.createElement(e),c=ut.style,o=t.createElement("input"),g=":)",ft={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),et="Webkit Moz O ms",ot=et.split(" "),st=et.toLowerCase().split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},ht={},w={},nt=[],tt=nt.slice,b,l=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,o=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:e+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',e,'">',n,"<\/style>"].join(""),f.id=e,(h?f:o).innerHTML+=l,o.appendChild(f),h||(o.style.background="",o.style.overflow="hidden",v=s.style.overflow,s.style.overflow="hidden",s.appendChild(o)),a=i(f,n),h?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),s.style.overflow=v),!!a},at=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t).matches:(l("@media "+t+" { #"+e+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},ct=function(){function r(r,u){u=u||t.createElement(n[r]||"div");r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=h(u[r],"function"),h(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),it={}.hasOwnProperty,rt,k;rt=h(it,"undefined")||h(it.call,"undefined")?function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")}:function(n,t){return it.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=tt.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(tt.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(tt.call(arguments)))},r});r.flexbox=function(){return f("flexWrap")};r.flexboxlegacy=function(){return f("boxDirection")};r.canvas=function(){var n=t.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))};r.canvastext=function(){return!!(u.canvas&&h(t.createElement("canvas").getContext("2d").fillText,"function"))};r.webgl=function(){return!!n.WebGLRenderingContext};r.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:l(["@media (",y.join("touch-enabled),("),e,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};r.geolocation=function(){return"geolocation"in navigator};r.postmessage=function(){return!!n.postMessage};r.websqldatabase=function(){return!!n.openDatabase};r.indexedDB=function(){return!!f("indexedDB",n)};r.hashchange=function(){return ct("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};r.history=function(){return!!(n.history&&history.pushState)};r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n};r.websockets=function(){return"WebSocket"in n||"MozWebSocket"in n};r.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),v(c.backgroundColor,"rgba")};r.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),v(c.backgroundColor,"rgba")||v(c.backgroundColor,"hsla")};r.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)};r.backgroundsize=function(){return f("backgroundSize")};r.borderimage=function(){return f("borderImage")};r.borderradius=function(){return f("borderRadius")};r.boxshadow=function(){return f("boxShadow")};r.textshadow=function(){return t.createElement("div").style.textShadow===""};r.opacity=function(){return vt("opacity:.55"),/^0.55$/.test(c.opacity)};r.cssanimations=function(){return f("animationName")};r.csscolumns=function(){return f("columnCount")};r.cssgradients=function(){var n="background-image:";return a((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+y.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),v(c.backgroundImage,"gradient")};r.cssreflections=function(){return f("boxReflect")};r.csstransforms=function(){return!!f("transform")};r.csstransforms3d=function(){var n=!!f("perspective");return n&&"webkitPerspective"in s.style&&l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=t.offsetLeft===9&&t.offsetHeight===3}),n};r.csstransitions=function(){return f("transition")};r.fontface=function(){var n;return l('@font-face {font-family:"font";src:url("https://")}',function(i,r){var f=t.getElementById("smodernizr"),u=f.sheet||f.styleSheet,e=u?u.cssRules&&u.cssRules[0]?u.cssRules[0].cssText:u.cssText||"":"";n=/src/i.test(e)&&e.indexOf(r.split(" ")[0])===0}),n};r.generatedcontent=function(){var n;return l(["#",e,"{font:0/0 a}#",e,':after{content:"',g,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){n=t.offsetHeight>=3}),n};r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};r.localstorage=function(){try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(n){return!1}};r.sessionstorage=function(){try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(n){return!1}};r.webworkers=function(){return!!n.Worker};r.applicationcache=function(){return!!n.applicationCache};r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect};r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg};r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(ft.call(t.createElementNS(p.svg,"animate")))};r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(ft.call(t.createElementNS(p.svg,"clipPath")))};for(k in r)rt(r,k)&&(b=k.toLowerCase(),u[b]=r[k](),nt.push((u[b]?"":"no-")+b));return u.input||pt(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)rt(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t;typeof d!="undefined"&&d&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},a(""),ut=o=null,function(n,t){function p(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function c(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function o(n){var t=h[n[s]];return t||(t={},e++,n[s]=e,h[e]=t),t}function l(n,r,u){if(r||(r=t),i)return r.createElement(n);u||(u=o(r));var f;return f=u.cache[n]?u.cache[n].cloneNode():y.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),f.canHaveChildren&&!v.test(n)?u.frag.appendChild(f):f}function w(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||o(n);for(var f=r.frag.cloneNode(),u=0,e=c(),s=e.length;u<s;u++)f.createElement(e[u]);return f}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?l(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function a(n){n||(n=t);var u=o(n);return!r.shivCSS||f||u.hasCSS||(u.hasCSS=!!p(n,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||b(n,u),n}var u=n.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,s="_html5shiv",e=0,h={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){f=!0;i=!0}})();r={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:i,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=r;a(t)}(this,t),u._version="2.6.2",u._prefixes=y,u._domPrefixes=st,u._cssomPrefixes=ot,u.mq=at,u.hasEvent=ct,u.testProp=function(n){return lt([n])},u.testAllProps=f,u.testStyles=l,u.prefixed=function(n,t,i){return t?f(n,t,i):f(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+nt.join(" "):""),u}(this,this.document);ie7=ie7||!1;BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t].string,this.versionSearchString=n[t].subString,i.indexOf(n[t].subString)!=-1)return n[t].identity},searchVersion:function(n){var t=n.indexOf(this.versionSearchString);return t==-1?null:parseFloat(n.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init(),function(){"use strict";window.Modernizr.addTest("ff",function(){return BrowserDetect.browser=="Firefox"});window.Modernizr.addTest("chrome",function(){return BrowserDetect.browser=="Chrome"});window.Modernizr.addTest("ie",function(){return BrowserDetect.browser=="Explorer"||BrowserDetect.browser=="Other"&&navigator.userAgent.match(/Trident/)});window.Modernizr.addTest("ie7",function(){return ie7===!0});window.Modernizr.addTest("ie9",function(){return BrowserDetect.browser=="Explorer"&&BrowserDetect.version>=9&&BrowserDetect.version<10});window.Modernizr.addTest("ie8",function(){return BrowserDetect.browser=="Explorer"&&BrowserDetect.version>=8&&BrowserDetect.version<9});window.Modernizr.addTest("iphone",function(){return navigator.userAgent.match(/iPhone/i)});window.Modernizr.addTest("iPad",function(){return navigator.userAgent.match(/iPad/i)});window.Modernizr.addTest("mac",function(){return navigator.userAgent.match(/Mac OS X/i)});window.Modernizr.addTest("safari",function(){return navigator.userAgent.match(/Safari/i)&&BrowserDetect.browser!="Chrome"});window.Modernizr.addTest("cssremunit",function(){var n=document.createElement("div");try{n.style.fontSize="3rem"}catch(t){}return/rem/.test(n.style.fontSize)});window.Modernizr.addTest("android",function(){return navigator.userAgent.match(/Android/i)}),function(){var n={},t=function(t){t?window.Modernizr.addTest("datauri",function(){return n.width===1&&n.height===1}):window.Modernizr.addTest("datauri",function(){return!1})};if(window.document.location.protocol==="https:"&&(Modernizr.ie6||Modernizr.ie7)){t(!1);return}n=new Image;n.onerror=function(){t(!1)};n.onload=function(){t(!0)};n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}()}(),function(n){var t="waitForImages";n.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"]};n.expr[":"].uncached=function(t){if(n(t).is("img")===!1||t.src==="")return!1;var i=new Image;return i.src=t.src,!i.complete};n.fn.waitForImages=function(i,r,u){var f=0,e=0;if(n.isPlainObject(arguments[0])&&(u=arguments[0].waitForAll,r=arguments[0].each,i=arguments[0].finished),i=i||n.noop,r=r||n.noop,u=!!u,!n.isFunction(i)||!n.isFunction(r))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var s=n(this),o=[],h=n.waitForImages.hasImageProperties||[],c=/url\(\s*(['"]?)(.*?)\1\s*\)/g;u?s.find("*").addBack().each(function(){var t=n(this);t.is("img:uncached")&&o.push({src:t.attr("src"),element:t[0]});n.each(h,function(n,i){var r=t.css(i),u;if(!r)return!0;while(u=c.exec(r))o.push({src:u[2],element:t[0]})})}):s.find("img:uncached").each(function(){o.push({src:this.src,element:this})});f=o.length;e=0;f===0&&i.call(s[0]);n.each(o,function(u,o){var h=new Image;n(h).on("load."+t+" error."+t,function(n){return e++,r.call(o.element,e,f,n.type=="load"),e==f?(i.call(s[0]),!1):void 0});h.src=o.src})})}}(jQuery),function(n){function t(t){var f=n(this),r=null,u=[],e=null,o=null,i=n.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:2e3,enter:n.noop,exit:n.noop,activate:n.noop,deactivate:n.noop,exitMenu:n.noop},t),c=10,l=300,a=function(n){u.push({x:n.pageX,y:n.pageY});u.length>c&&u.shift()},v=function(){o&&clearTimeout(o);i.exitMenu(this)&&(r&&i.deactivate(r),r=null)},y=function(){o&&clearTimeout(o);i.enter(this);h(this)},p=function(){i.exit(this)},w=function(){s(this)},s=function(n){n!=r&&(r&&i.deactivate(r),i.activate(n),r=n)},h=function(n){var t=b();t?o=setTimeout(function(){h(n)},t):s(n)},b=function(){function v(n,t){return(t.y-n.y)/(t.x-n.x)}var h,c;if(!r||!n(r).is(i.submenuSelector))return 0;var t=f.offset(),y={x:t.left,y:t.top-i.tolerance},w={x:t.left+f.outerWidth(),y:y.y},p={x:t.left,y:t.top+f.outerHeight()+i.tolerance},a={x:t.left+f.outerWidth(),y:p.y},s=u[u.length-1],o=u[0];if(!s||(o||(o=s),o.x<t.left||o.x>a.x||o.y<t.top||o.y>a.y)||e&&s.x==e.x&&s.y==e.y)return 0;h=w;c=a;i.submenuDirection=="left"?(h=p,c=y):i.submenuDirection=="below"?(h=a,c=p):i.submenuDirection=="above"&&(h=y,c=w);var b=v(s,h),k=v(s,c),d=v(o,h),g=v(o,c);return b<d&&k>g?(e=s,l):(e=null,0)};f.mouseleave(v).find(i.rowSelector).mouseenter(y).mouseleave(p).click(w);n(document).mousemove(a)}n.fn.menuAim=function(n){return this.each(function(){t.call(this,n)}),this}}(jQuery),function(n){"use strict";var t={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},f={duration:"fast",direction:"both",offsetY:0},i=/^(?:html)$/i,e=function(t,i){i=i||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var u=document.defaultView&&document.defaultView.getComputedStyle?!0:!1,r={top:parseFloat(u?i.borderTopWidth:n.css(t,"borderTopWidth"))||0,left:parseFloat(u?i.borderLeftWidth:n.css(t,"borderLeftWidth"))||0,bottom:parseFloat(u?i.borderBottomWidth:n.css(t,"borderBottomWidth"))||0,right:parseFloat(u?i.borderRightWidth:n.css(t,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}},r=function(t){var u=n(window),r=i.test(t[0].nodeName);return{border:r?{top:0,left:0,bottom:0,right:0}:e(t[0]),scroll:{top:(r?u:t).scrollTop(),left:(r?u:t).scrollLeft()},scrollbar:{right:r?0:t.innerWidth()-t[0].clientWidth,bottom:r?0:t.innerHeight()-t[0].clientHeight},rect:function(){var n=t[0].getBoundingClientRect();return{top:r?0:n.top,left:r?0:n.left,bottom:r?t[0].clientHeight:n.bottom,right:r?t[0].clientWidth:n.right}}()}},u={auto:!0,scroll:!0,visible:!1,hidden:!1};n.extend(n.expr[":"],{scrollable:function(n,r,f){var s=t[typeof f[3]=="string"&&f[3].toLowerCase()]||t.both,h=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(n,null):n.currentStyle,e={x:u[h.overflowX.toLowerCase()]||!1,y:u[h.overflowY.toLowerCase()]||!1,isRoot:i.test(n.nodeName)},o;return!e.x&&!e.y&&!e.isRoot?!1:(o={height:{scroll:n.scrollHeight,client:n.clientHeight},width:{scroll:n.scrollWidth,client:n.clientWidth},scrollableX:function(){return(e.x||e.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(e.y||e.isRoot)&&this.height.scroll>this.height.client}},s.y&&o.scrollableY()||s.x&&o.scrollableX())}});n.fn.extend({scrollintoview:function(u){var c,l,s;if(u=n.extend({},f,u),u.direction=t[typeof u.direction=="string"&&u.direction.toLowerCase()]||t.both,c="",u.direction.x===!0&&(c="horizontal"),u.direction.y===!0&&(c=c?"both":"vertical"),l=this.eq(0),s=l.closest(":scrollable("+c+")"),s.length>0){s=s.eq(0);var e={e:r(l),s:r(s)},o={top:e.e.rect.top-(e.s.rect.top+e.s.border.top)+u.offsetY,bottom:e.s.rect.bottom-e.s.border.bottom-e.s.scrollbar.bottom-e.e.rect.bottom+u.offsetY,left:e.e.rect.left-(e.s.rect.left+e.s.border.left),right:e.s.rect.right-e.s.border.right-e.s.scrollbar.right-e.e.rect.right},h={};u.direction.y===!0&&(o.top<0?h.scrollTop=e.s.scroll.top+o.top:o.top>0&&o.bottom<0&&(h.scrollTop=e.s.scroll.top+Math.min(o.top,-o.bottom)));u.direction.x===!0&&(o.left<0?h.scrollLeft=e.s.scroll.left+o.left:o.left>0&&o.right<0&&(h.scrollLeft=e.s.scroll.left+Math.min(o.left,-o.right)));n.isEmptyObject(h)?n.isFunction(u.complete)&&u.complete.call(s[0]):(i.test(s[0].nodeName)&&(s=n("html,body")),s.animate(h,u.duration).eq(0).queue(function(t){n.isFunction(u.complete)&&u.complete.call(s[0]);t()}))}return this}})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)}(function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),function(n,t,i){(function(t){var r=typeof define=="function"&&define.amd,u="https:"==i.location.protocol?"https:":"http:";r||n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+u+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js%3E%3C/script%3E"));t()})(function(){var l="mCustomScrollbar",r="mCS",rt=".mCustomScrollbar",ot={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},yt=0,k={},w=t.attachEvent&&!t.addEventListener?1:0,o=!1,a,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(t){var t=n.extend(!0,{},ot,t),e=y.call(this),i,f;if(t.live){if(i=t.liveSelector||this.selector||rt,f=n(i),t.live==="off"){d(i);return}k[i]=setTimeout(function(){f.mCustomScrollbar(t);t.live==="once"&&f.length&&d(i)},500)}else d(i);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":pt(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,typeof t.mouseWheel!="object"&&t.mouseWheel==!0&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=wt(t.scrollButtons.scrollType),st(t),n(e).each(function(){var i=n(this);if(!i.data(r)){i.data(r,{idx:++yt,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null});var e=i.data(r),f=e.opt,o=i.data("mcs-axis"),s=i.data("mcs-scrollbar-position"),h=i.data("mcs-theme");o&&(f.axis=o);s&&(f.scrollbarPosition=s);h&&(f.theme=h,st(f));bt.call(this);n("#mCSB_"+e.idx+"_container img:not(."+u[2]+")").addClass(u[2]);c.update.call(null,i)}})},update:function(t,i){var f=t||y.call(this);return n(f).each(function(){var o=n(this),c;if(o.data(r)){var f=o.data(r),t=f.opt,s=n("#mCSB_"+f.idx+"_container"),l=[n("#mCSB_"+f.idx+"_dragger_vertical"),n("#mCSB_"+f.idx+"_dragger_horizontal")];if(!s.length)return;f.tweenRunning&&h(o);o.hasClass(u[3])&&o.removeClass(u[3]);o.hasClass(u[4])&&o.removeClass(u[4]);gt.call(this);kt.call(this);t.axis==="y"||t.advanced.autoExpandHorizontalScroll||s.css("width",ht(s.children()));f.overflowed=ii.call(this);ct.call(this);t.autoDraggerLength&&ni.call(this);ti.call(this);ri.call(this);c=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];t.axis!=="x"&&(f.overflowed[0]?l[0].height()>l[0].parent().height()?p.call(this):(e(o,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),f.contentReset.y=null):(p.call(this),t.axis==="y"?nt.call(this):t.axis==="yx"&&f.overflowed[1]&&e(o,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})));t.axis!=="y"&&(f.overflowed[1]?l[1].width()>l[1].parent().width()?p.call(this):(e(o,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),f.contentReset.x=null):(p.call(this),t.axis==="x"?nt.call(this):t.axis==="yx"&&f.overflowed[0]&&e(o,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})));i&&f&&(i===2&&t.callbacks.onImageLoad&&typeof t.callbacks.onImageLoad=="function"?t.callbacks.onImageLoad.call(this):i===3&&t.callbacks.onSelectorChange&&typeof t.callbacks.onSelectorChange=="function"?t.callbacks.onSelectorChange.call(this):t.callbacks.onUpdate&&typeof t.callbacks.onUpdate=="function"&&t.callbacks.onUpdate.call(this));et.call(this)}})},scrollTo:function(t,i){if(typeof t!="undefined"&&t!=null){var u=y.call(this);return n(u).each(function(){var s=n(this);if(s.data(r)){var o=s.data(r),h=o.opt,c={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(!0,{},c,i),f=ft.call(this,t),l=u.scrollInertia>0&&u.scrollInertia<17?17:u.scrollInertia;f[0]=lt.call(this,f[0],"y");f[1]=lt.call(this,f[1],"x");u.moveDragger&&(f[0]*=o.scrollRatio.y,f[1]*=o.scrollRatio.x);u.dur=l;setTimeout(function(){f[0]!==null&&typeof f[0]!="undefined"&&h.axis!=="x"&&o.overflowed[0]&&(u.dir="y",u.overwrite="all",e(s,f[0].toString(),u));f[1]!==null&&typeof f[1]!="undefined"&&h.axis!=="y"&&o.overflowed[1]&&(u.dir="x",u.overwrite="none",e(s,f[1].toString(),u))},u.timeout)}})}},stop:function(){var t=y.call(this);return n(t).each(function(){var t=n(this);t.data(r)&&h(t)})},disable:function(t){var i=y.call(this);return n(i).each(function(){var i=n(this),f;i.data(r)&&(f=i.data(r),et.call(this,"remove"),nt.call(this),t&&p.call(this),ct.call(this,!0),i.addClass(u[3]))})},destroy:function(){var t=y.call(this);return n(t).each(function(){var f=n(this);if(f.data(r)){var i=f.data(r),e=i.opt,s=n("#mCSB_"+i.idx),o=n("#mCSB_"+i.idx+"_container"),h=n(".mCSB_"+i.idx+"_scrollbar");e.live&&d(e.liveSelector||n(t).selector);et.call(this,"remove");nt.call(this);p.call(this);f.removeData(r);v(this,"mcs");h.remove();o.find("img."+u[2]).removeClass(u[2]);s.replaceWith(o.contents());f.removeClass(l+" _"+r+"_"+i.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},y=function(){return typeof n(this)!="object"||n(this).length<1?rt:this},st=function(t){t.autoDraggerLength=n.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=n.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=n.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},d=function(n){k[n]&&(clearTimeout(k[n]),v(k,n))},pt=function(n){return n==="yx"||n==="xy"||n==="auto"?"yx":n==="x"||n==="horizontal"?"x":"y"},wt=function(n){return n==="stepped"||n==="pixels"||n==="step"||n==="click"?"stepped":"stepless"},bt=function(){var f=n(this),i=f.data(r),t=i.opt,c=t.autoExpandScrollbar?" "+u[1]+"_expand":"",o=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+t.theme+" mCSB_scrollTools_vertical"+c+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+t.theme+" mCSB_scrollTools_horizontal"+c+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],v=t.axis==="yx"?"mCSB_vertical_horizontal":t.axis==="x"?"mCSB_horizontal":"mCSB_vertical",a=t.axis==="yx"?o[0]+o[1]:t.axis==="x"?o[1]:o[0],y=t.axis==="yx"?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=t.autoHideScrollbar?" "+u[6]:"",w=t.axis!=="x"&&i.langDir==="rtl"?" "+u[7]:"",h,s,e;t.setWidth&&f.css("width",t.setWidth);t.setHeight&&f.css("height",t.setHeight);t.setLeft=t.axis!=="y"&&i.langDir==="rtl"?"989999px":t.setLeft;f.addClass(l+" _"+r+"_"+i.idx+p+w).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+t.theme+" "+v+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+t.setTop+"; left:"+t.setLeft+";' dir="+i.langDir+" /><\/div>");h=n("#mCSB_"+i.idx);s=n("#mCSB_"+i.idx+"_container");t.axis==="y"||t.advanced.autoExpandHorizontalScroll||s.css("width",ht(s.children()));t.scrollbarPosition==="outside"?(f.css("position")==="static"&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(a)):(h.addClass("mCSB_inside").append(a),s.wrap(y));dt.call(this);e=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},ht=function(t){return Math.max.apply(Math,t.map(function(){return n(this).outerWidth(!0)}).get())},kt=function(){var f=n(this),i=f.data(r),u=i.opt,t=n("#mCSB_"+i.idx+"_container");u.advanced.autoExpandHorizontalScroll&&u.axis!=="y"&&t.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(t[0].getBoundingClientRect().right+.4)-Math.floor(t[0].getBoundingClientRect().left),position:"relative"}).unwrap()},dt=function(){var s=n(this),o=s.data(r),i=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=it(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",t=["<a href='#' class='"+u[13]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+u[14]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+u[15]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+u[16]+"' oncontextmenu='return false;' "+f+" />"],e=[i.axis==="x"?t[2]:t[0],i.axis==="x"?t[3]:t[1],t[2],t[3]];i.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},gt=function(){var t=n(this),f=t.data(r),e=n("#mCSB_"+f.idx),i=t.css("max-height")||"none",o=i.indexOf("%")!==-1,s=t.css("box-sizing"),u;i!=="none"&&(u=o?t.parent().height()*parseInt(i)/100:parseInt(i),s==="border-box"&&(u-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),e.css("max-height",Math.round(u)))},ni=function(){var s=n(this),u=s.data(r),f=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),i=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],o=[f.height()/e.outerHeight(!1),f.width()/e.outerWidth(!1)],t=[parseInt(i[0].css("min-height")),Math.round(o[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(o[1]*i[1].parent().width())],h=w&&t[1]<t[0]?t[0]:t[1],c=w&&t[3]<t[2]?t[2]:t[3];i[0].css({height:h,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":t[0]+"px"});i[1].css({width:c,"max-width":i[1].parent().width()-10})},ti=function(){var s=n(this),t=s.data(r),u=n("#mCSB_"+t.idx),f=n("#mCSB_"+t.idx+"_container"),i=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],e=[f.outerHeight(!1)-u.height(),f.outerWidth(!1)-u.width()],o=[e[0]/(i[0].parent().height()-i[0].height()),e[1]/(i[1].parent().width()-i[1].width())];t.scrollRatio={y:o[0],x:o[1]}},g=function(n,t,i){var f=i?u[0]+"_expanded":"",r=n.closest(".mCSB_scrollTools");t==="active"?(n.toggleClass(u[0]+" "+f),r.toggleClass(u[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||(t==="hide"?(n.removeClass(u[0]),r.removeClass(u[1])):(n.addClass(u[0]),r.addClass(u[1])))},ii=function(){var f=n(this),t=f.data(r),u=n("#mCSB_"+t.idx),i=n("#mCSB_"+t.idx+"_container"),e=t.overflowed==null?i.height():i.outerHeight(!1),o=t.overflowed==null?i.width():i.outerWidth(!1);return[e>u.height(),o>u.width()]},p=function(){var i=n(this),t=i.data(r),u=t.opt,c=n("#mCSB_"+t.idx),o=n("#mCSB_"+t.idx+"_container"),s=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],f;h(i);(u.axis!=="x"&&!t.overflowed[0]||u.axis==="y"&&t.overflowed[0])&&(s[0].add(o).css("top",0),e(i,"_resetY"));(u.axis!=="y"&&!t.overflowed[1]||u.axis==="x"&&t.overflowed[1])&&(f=dx=0,t.langDir==="rtl"&&(f=c.width()-o.outerWidth(!1),dx=Math.abs(f/t.scrollRatio.x)),o.css("left",f),s[1].css("left",dx),e(i,"_resetX"))},ri=function(){var u=n(this),i=u.data(r),t=i.opt,e;if(!i.bindEvents){if(ui.call(this),t.contentTouchScroll&&fi.call(this),ei.call(this),t.mouseWheel.enable){function f(){e=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(e),oi.call(u[0])):f()},100)}f()}hi.call(this);li.call(this);t.advanced.autoScrollOnFocus&&ci.call(this);t.scrollButtons.enable&&ai.call(this);t.keyboard.enable&&vi.call(this);i.bindEvents=!0}},nt=function(){var f=n(this),t=f.data(r),e=t.opt,o=r+"_"+t.idx,s=".mCSB_"+t.idx+"_scrollbar",h=n("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+s+" ."+u[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+s+">a"),c=n("#mCSB_"+t.idx+"_container");e.advanced.releaseDraggableSelectors&&h.add(n(e.advanced.releaseDraggableSelectors));t.bindEvents&&(n(i).unbind("."+o),h.each(function(){n(this).unbind("."+o)}),clearTimeout(f[0]._focusTimeout),v(f[0],"_focusTimeout"),clearTimeout(t.sequential.step),v(t.sequential,"step"),clearTimeout(c[0].onCompleteTimeout),v(c[0],"onCompleteTimeout"),t.bindEvents=!1)},ct=function(t){var h=n(this),i=h.data(r),o=i.opt,c=n("#mCSB_"+i.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+i.idx+"_container"),e=[n("#mCSB_"+i.idx+"_scrollbar_vertical"),n("#mCSB_"+i.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];o.axis!=="x"&&(i.overflowed[0]&&!t?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(u[8]+" "+u[10])):(o.alwaysShowScrollbar?(o.alwaysShowScrollbar!==2&&s[0].css("display","none"),f.removeClass(u[10])):(e[0].css("display","none"),f.addClass(u[10])),f.addClass(u[8])));o.axis!=="y"&&(i.overflowed[1]&&!t?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(u[9]+" "+u[11])):(o.alwaysShowScrollbar?(o.alwaysShowScrollbar!==2&&s[1].css("display","none"),f.removeClass(u[11])):(e[1].css("display","none"),f.addClass(u[11])),f.addClass(u[9])));i.overflowed[0]||i.overflowed[1]?h.removeClass(u[5]):h.addClass(u[5])},f=function(n){var r=n.type,t,i;switch(r){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[n.originalEvent.pageY,n.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return t=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],i=n.originalEvent.touches.length||n.originalEvent.changedTouches.length,[t.pageY,t.pageX,i>1];default:return[n.pageY,n.pageX,!1]}},ui=function(){function k(n){var t=b.find("iframe"),i;t.length&&(i=n?"auto":"none",t.css("pointer-events",i))}function d(n,i,r,u){var f,o;b[0].idleTimer=c.scrollInertia<233?250:0;t.attr("id")===v[1]?(f="x",o=(t[0].offsetLeft-i+u)*s.scrollRatio.x):(f="y",o=(t[0].offsetTop-n+r)*s.scrollRatio.y);e(a,o.toString(),{dir:f,drag:!0})}var a=n(this),s=a.data(r),c=s.opt,u=r+"_"+s.idx,v=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],b=n("#mCSB_"+s.idx+"_container"),y=n("#"+v[0]+",#"+v[1]),t,l,p,nt=c.advanced.releaseDraggableSelectors?y.add(n(c.advanced.releaseDraggableSelectors)):y;y.bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(r){if(r.stopImmediatePropagation(),r.preventDefault(),vt(r)){o=!0;w&&(i.onselectstart=function(){return!1});k(!1);h(a);t=n(this);var u=t.offset(),e=f(r)[0]-u.top,s=f(r)[1]-u.left,v=t.height()+u.top,y=t.width()+u.left;e<v&&e>0&&s<y&&s>0&&(l=e,p=s);g(t,"active",c.autoExpandScrollbar)}}).bind("touchmove."+u,function(n){n.stopImmediatePropagation();n.preventDefault();var i=t.offset(),r=f(n)[0]-i.top,u=f(n)[1]-i.left;d(l,p,r,u)});n(i).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(n){if(t){var i=t.offset(),r=f(n)[0]-i.top,u=f(n)[1]-i.left;if(l===r)return;d(l,p,r,u)}}).add(nt).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){t&&(g(t,"active",c.autoExpandScrollbar),t=null);o=!1;w&&(i.onselectstart=null);k(!0)})},fi=function(){function yt(n,t){var i=[t*1.5,t*2,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function ut(n,t,i,r,u,f){n&&e(ft,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:u,drag:f})}var ft=n(this),t=ft.data(r),u=t.opt,i=r+"_"+t.idx,k=n("#mCSB_"+t.idx),y=n("#mCSB_"+t.idx+"_container"),d=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],p,w,ht,ct,g=[],nt=[],lt,at,et,v,c,s,vt=0,ot,st=u.axis==="yx"?"none":"all",l=[],it,rt;y.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(n){if(!tt(n)||o||f(n)[2]){a=0;return}a=1;it=0;rt=0;var t=y.offset();p=f(n)[0]-t.top;w=f(n)[1]-t.left;l=[f(n)[0],f(n)[1]]}).bind("touchmove."+i+" pointermove."+i+" MSPointerMove."+i,function(n){var c,a,v,ft;if(tt(n)&&!o&&!f(n)[2]&&(n.stopImmediatePropagation(),!rt||it)){at=b();var e=k.offset(),i=f(n)[0]-e.top,r=f(n)[1]-e.left,h="mcsLinearOut";g.push(i);nt.push(r);l[2]=Math.abs(f(n)[0]-l[0]);l[3]=Math.abs(f(n)[1]-l[1]);t.overflowed[0]&&(c=d[0].parent().height()-d[0].height(),a=p-i>0&&i-p>-(c*t.scrollRatio.y)&&(l[3]*2<l[2]||u.axis==="yx"));t.overflowed[1]&&(v=d[1].parent().width()-d[1].width(),ft=w-r>0&&r-w>-(v*t.scrollRatio.x)&&(l[2]*2<l[3]||u.axis==="yx"));a||ft?(n.preventDefault(),it=1):rt=1;s=u.axis==="yx"?[p-i,w-r]:u.axis==="x"?[null,w-r]:[p-i,null];y[0].idleTimer=250;t.overflowed[0]&&ut(s[0],vt,h,"y","all",!0);t.overflowed[1]&&ut(s[1],vt,h,"x",st,!0)}});k.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(n){if(!tt(n)||o||f(n)[2]){a=0;return}a=1;n.stopImmediatePropagation();h(ft);lt=b();var t=k.offset();ht=f(n)[0]-t.top;ct=f(n)[1]-t.left;g=[];nt=[]}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(n){var i,r,h;if(tt(n)&&!o&&!f(n)[2]){n.stopImmediatePropagation();it=0;rt=0;et=b();var l=k.offset(),a=f(n)[0]-l.top,p=f(n)[1]-l.left;if(!(et-at>30)){c=1e3/(et-lt);var w="mcsEaseOut",e=c<2.5,d=e?[g[g.length-2],nt[nt.length-2]]:[0,0];v=e?[a-d[0],p-d[1]]:[a-ht,p-ct];i=[Math.abs(v[0]),Math.abs(v[1])];c=e?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[c,c];r=[Math.abs(y[0].offsetTop)-v[0]*yt(i[0]/c[0],c[0]),Math.abs(y[0].offsetLeft)-v[1]*yt(i[1]/c[1],c[1])];s=u.axis==="yx"?[r[0],r[1]]:u.axis==="x"?[null,r[1]]:[r[0],null];ot=[i[0]*4+u.scrollInertia,i[1]*4+u.scrollInertia];h=parseInt(u.contentTouchScroll)||0;s[0]=i[0]>h?s[0]:0;s[1]=i[1]>h?s[1]:0;t.overflowed[0]&&ut(s[0],ot[0],w,"y",st,!1);t.overflowed[1]&&ut(s[1],ot[1],w,"x",st,!1)}}})},ei=function(){function w(){return t.getSelection?t.getSelection().toString():i.selection&&i.selection.type!="Control"?i.selection.createRange().text:0}function s(n,t,i){l.type=i&&e?"stepped":"stepless";l.scrollAmount=10;ut(y,n,t,"mcsLinearOut",i?60:null)}var y=n(this),u=y.data(r),p=u.opt,l=u.sequential,v=r+"_"+u.idx,h=n("#mCSB_"+u.idx+"_container"),c=h.parent(),e;h.bind("mousedown."+v,function(){a||e||(e=1,o=!0)}).add(i).bind("mousemove."+v,function(n){if(!a&&e&&w()){var r=h.offset(),t=f(n)[0]-r.top+h[0].offsetTop,i=f(n)[1]-r.left+h[0].offsetLeft;t>0&&t<c.height()&&i>0&&i<c.width()?l.step&&s("off",null,"stepped"):(p.axis!=="x"&&u.overflowed[0]&&(t<0?s("on",38):t>c.height()&&s("on",40)),p.axis!=="y"&&u.overflowed[1]&&(i<0?s("on",37):i>c.width()&&s("on",39)))}}).bind("mouseup."+v,function(){a||(e&&(e=0,s("off",null)),o=!1)})},oi=function(){function a(n){var t=null,i;try{i=n.contentDocument||n.contentWindow.document;t=i.body.innerHTML}catch(r){}return t!==null}var o=n(this),t=o.data(r);if(t){var i=t.opt,l=r+"_"+t.idx,f=n("#mCSB_"+t.idx),u=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],c=n("#mCSB_"+t.idx+"_container").find("iframe"),s=f;c.length&&c.each(function(){var t=this;a(t)&&(s=s.add(n(t).contents().find("body")))});s.bind("mousewheel."+l,function(r,s){var a;if(h(o),!si(o,r.target)){if(a=i.mouseWheel.deltaFactor!=="auto"?parseInt(i.mouseWheel.deltaFactor):w&&r.deltaFactor<100?100:r.deltaFactor||100,i.axis==="x"||i.mouseWheel.axis==="x")var v="x",l=[Math.round(a*t.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],p=i.mouseWheel.scrollAmount!=="auto"?l[1]:l[0]>=f.width()?f.width()*.9:l[0],b=Math.abs(n("#mCSB_"+t.idx+"_container")[0].offsetLeft),y=u[1][0].offsetLeft,k=u[1].parent().width()-u[1].width(),c=r.deltaX||r.deltaY||s;else var v="y",l=[Math.round(a*t.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],p=i.mouseWheel.scrollAmount!=="auto"?l[1]:l[0]>=f.height()?f.height()*.9:l[0],b=Math.abs(n("#mCSB_"+t.idx+"_container")[0].offsetTop),y=u[0][0].offsetTop,k=u[0].parent().height()-u[0].height(),c=r.deltaY||s;(v!=="y"||t.overflowed[0])&&(v!=="x"||t.overflowed[1])&&(i.mouseWheel.invert&&(c=-c),i.mouseWheel.normalizeDelta&&(c=c<0?-1:1),(c>0&&y!==0||c<0&&y!==k||i.mouseWheel.preventDefault)&&(r.stopImmediatePropagation(),r.preventDefault()),e(o,(b-c*p).toString(),{dir:v}))}})}},si=function(t,i){var u=i.nodeName.toLowerCase(),f=t.data(r).opt.mouseWheel.disableOver;return n.inArray(u,f)>-1&&!(n.inArray(u,["select","textarea"])>-1&&!n(i).is(":focus"))},hi=function(){var f=n(this),i=f.data(r),t=r+"_"+i.idx,s=n("#mCSB_"+i.idx+"_container"),c=s.parent(),l=n(".mCSB_"+i.idx+"_scrollbar ."+u[12]);l.bind("touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(){o=!0}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(){o=!1}).bind("click."+t,function(t){var r,o;if(n(t.target).hasClass(u[12])||n(t.target).hasClass("mCSB_draggerRail")){if(h(f),r=n(this),o=r.find(".mCSB_dragger"),r.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var a="x",l=t.pageX>o.offset().left?-1:1,v=Math.abs(s[0].offsetLeft)-l*c.width()*.9}else{if(!i.overflowed[0])return;var a="y",l=t.pageY>o.offset().top?-1:1,v=Math.abs(s[0].offsetTop)-l*c.height()*.9}e(f,v.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}})},ci=function(){var t=n(this),o=t.data(r),f=o.opt,l=r+"_"+o.idx,u=n("#mCSB_"+o.idx+"_container"),c=u.parent();u.bind("focusin."+l,function(){var r=n(i.activeElement),l=u.find(".mCustomScrollBox").length,o=0;r.is(f.advanced.autoScrollOnFocus)&&(h(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=l?(o+17)*l:0,t[0]._focusTimeout=setTimeout(function(){var n=[s(r)[0],s(r)[1]],i=[u[0].offsetTop,u[0].offsetLeft],h=[i[0]+n[0]>=0&&i[0]+n[0]<c.height()-r.outerHeight(!1),i[1]+n[1]>=0&&i[0]+n[1]<c.width()-r.outerWidth(!1)],l=f.axis==="yx"&&!h[0]&&!h[1]?"none":"all";f.axis==="x"||h[0]||e(t,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:o});f.axis==="y"||h[1]||e(t,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:o})},t[0]._focusTimer))})},li=function(){var u=n(this),t=u.data(r),f=r+"_"+t.idx,i=n("#mCSB_"+t.idx+"_container").parent();i.bind("scroll."+f,function(){(i.scrollTop()!==0||i.scrollLeft()!==0)&&n(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},ai=function(){var e=n(this),i=e.data(r),f=i.opt,u=i.sequential,t=r+"_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar",h=n(s+">a");h.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t+" mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t+" mouseout."+t+" pointerout."+t+" MSPointerOut."+t+" click."+t,function(t){function s(n,t){u.scrollAmount=f.snapAmount||f.scrollButtons.scrollAmount;ut(e,n,t)}if(t.preventDefault(),vt(t)){var r=n(this).attr("class");u.type=f.scrollButtons.scrollType;switch(t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(u.type==="stepped")return;o=!0;i.tweenRunning=!1;s("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(u.type==="stepped")return;o=!1;u.dir&&s("off",r);break;case"click":if(u.type!=="stepped"||i.tweenRunning)return;s("on",r)}}})},vi=function(){var f=n(this),t=f.data(r),u=t.opt,s=t.sequential,l=r+"_"+t.idx,v=n("#mCSB_"+t.idx),o=n("#mCSB_"+t.idx+"_container"),c=o.parent(),a="input,textarea,select,datalist,keygen,[contenteditable='true']";v.attr("tabindex","0").bind("blur."+l+" keydown."+l+" keyup."+l,function(r){function b(n,i){(s.type=u.keyboard.scrollType,s.scrollAmount=u.snapAmount||u.keyboard.scrollAmount,s.type==="stepped"&&t.tweenRunning)||ut(f,n,i)}var l,p,w,v,y;switch(r.type){case"blur":t.tweenRunning&&s.dir&&b("off",null);break;case"keydown":case"keyup":if(l=r.keyCode?r.keyCode:r.which,p="on",u.axis!=="x"&&(l===38||l===40)||u.axis!=="y"&&(l===37||l===39)){if((l===38||l===40)&&!t.overflowed[0]||(l===37||l===39)&&!t.overflowed[1])return;r.type==="keyup"&&(p="off");n(i.activeElement).is(a)||(r.preventDefault(),r.stopImmediatePropagation(),b(p,l))}else l===33||l===34?((t.overflowed[0]||t.overflowed[1])&&(r.preventDefault(),r.stopImmediatePropagation()),r.type==="keyup"&&(h(f),w=l===34?-1:1,u.axis==="x"||u.axis==="yx"&&t.overflowed[1]&&!t.overflowed[0]?(v="x",y=Math.abs(o[0].offsetLeft)-w*c.width()*.9):(v="y",y=Math.abs(o[0].offsetTop)-w*c.height()*.9),e(f,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"}))):(l===35||l===36)&&(n(i.activeElement).is(a)||((t.overflowed[0]||t.overflowed[1])&&(r.preventDefault(),r.stopImmediatePropagation()),r.type==="keyup"&&(u.axis==="x"||u.axis==="yx"&&t.overflowed[1]&&!t.overflowed[0]?(v="x",y=l===35?Math.abs(c.width()-o.outerWidth(!1)):0):(v="y",y=l===35?Math.abs(c.height()-o.outerHeight(!1)):0),e(f,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"}))))}})},ut=function(t,i,f,o,s){function y(n){var r=c.type!=="stepped",u=s?s:n?r?b/1.5:k:1e3/60,f=n?r?7.5:40:2.5,i=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],h=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],v=c.dir[0]==="x"?i[1]+c.dir[1]*h[1]*f:i[0]+c.dir[1]*h[0]*f,w=c.dir[0]==="x"?i[1]+c.dir[1]*parseInt(c.scrollAmount):i[0]+c.dir[1]*parseInt(c.scrollAmount),a=c.scrollAmount!=="auto"?w:v,d=o?o:n?r?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",g=n?!0:!1;if(n&&u<17&&(a=c.dir[0]==="x"?i[1]:i[0]),e(t,a.toString(),{dir:c.dir[0],scrollEasing:d,dur:u,onComplete:g}),n){c.dir=!1;return}clearTimeout(c.step);c.step=setTimeout(function(){y()},u)}function d(){clearTimeout(c.step);v(c,"step");h(t)}var l=t.data(r),a=l.opt,c=l.sequential,p=n("#mCSB_"+l.idx+"_container"),w=c.type==="stepped"?!0:!1,b=a.scrollInertia<26?26:a.scrollInertia,k=a.scrollInertia<1?17:a.scrollInertia;switch(i){case"on":if(c.dir=[f===u[16]||f===u[15]||f===39||f===37?"x":"y",f===u[13]||f===u[15]||f===38||f===37?-1:1],h(t),it(f)&&c.type==="stepped")return;y(w);break;case"off":d();(w||l.tweenRunning&&c.dir)&&y(!0)}},ft=function(t){var u=n(this).data(r).opt,i=[];return typeof t=="function"&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:u.axis==="x"?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||u.axis==="x"?null:t,i[1]=t.x?t.x:t.y||u.axis==="y"?null:t),typeof i[0]=="function"&&(i[0]=i[0]()),typeof i[1]=="function"&&(i[1]=i[1]()),i},lt=function(t,i){var e,f;if(t!=null&&typeof t!="undefined"){var o=n(this),h=o.data(r),v=h.opt,u=n("#mCSB_"+h.idx+"_container"),l=u.parent(),y=typeof t;i||(i=v.axis==="x"?"x":"y");var p=i==="x"?u.outerWidth(!1):u.outerHeight(!1),a=i==="x"?u[0].offsetLeft:u[0].offsetTop,w=i==="x"?"left":"top";switch(y){case"function":return t();case"object":return(f=t.jquery?t:n(t),!f.length)?void 0:i==="x"?s(f)[1]:s(f)[0];case"string":case"number":if(it(t))return Math.abs(t);if(t.indexOf("%")!==-1)return Math.abs(p*parseInt(t)/100);if(t.indexOf("-=")!==-1)return Math.abs(a-parseInt(t.split("-=")[1]));if(t.indexOf("+=")!==-1)return e=a+parseInt(t.split("+=")[1]),e>=0?0:Math.abs(e);if(t.indexOf("px")!==-1&&it(t.split("px")[0]))return Math.abs(t.split("px")[0]);if(t==="top"||t==="left")return 0;if(t==="bottom")return Math.abs(l.height()-u.outerHeight(!1));if(t==="right")return Math.abs(l.width()-u.outerWidth(!1));if(t==="first"||t==="last")return f=u.find(":"+t),i==="x"?s(f)[1]:s(f)[0];if(n(t).length)return i==="x"?s(n(t))[1]:s(n(t))[0];u.css(w,t);c.update.call(null,o[0]);return}}},et=function(t){function g(){clearTimeout(i[0].autoUpdate);i[0].autoUpdate=setTimeout(function(){if(f.advanced.updateOnSelectorChange&&(p=tt(),p!==k)){y(3);k=p;return}f.advanced.updateOnContentResize&&(e=[i.outerHeight(!1),i.outerWidth(!1),h.height(),h.width(),a()[0],a()[1]],(e[0]!==o[0]||e[1]!==o[1]||e[2]!==o[2]||e[3]!==o[3]||e[4]!==o[4]||e[5]!==o[5])&&(y(e[0]!==o[0]||e[1]!==o[1]),o=e));f.advanced.updateOnImageLoad&&(w=nt(),w!==d&&(i.find("img").each(function(){it(this)}),d=w));(f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&g()},60)}function nt(){var n=0;return f.advanced.updateOnImageLoad&&(n=i.find("img").length),n}function it(t){function r(n,t){return function(){return t.apply(n,arguments)}}function f(){this.onload=null;n(t).addClass(u[2]);y(2)}if(n(t).hasClass(u[2])){y();return}var i=new Image;i.onload=r(i,f);i.src=t.src}function tt(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var t=0,r=i.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&r.length>0&&r.each(function(){t+=n(this).height()+n(this).width()}),t}function y(n){clearTimeout(i[0].autoUpdate);c.update.call(null,b[0],n)}var b=n(this),s=b.data(r),f=s.opt,i=n("#mCSB_"+s.idx+"_container");if(t){clearTimeout(i[0].autoUpdate);v(i[0],"autoUpdate");return}var h=i.parent(),l=[n("#mCSB_"+s.idx+"_scrollbar_vertical"),n("#mCSB_"+s.idx+"_scrollbar_horizontal")],a=function(){return[l[0].is(":visible")?l[0].outerHeight(!0):0,l[1].is(":visible")?l[1].outerWidth(!0):0]},k=tt(),p,o=[i.outerHeight(!1),i.outerWidth(!1),h.height(),h.width(),a()[0],a()[1]],e,d=nt(),w;g()},yi=function(n,t,i){return Math.round(n/t)*t-i},h=function(t){var i=t.data(r),u=n("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");u.each(function(){pi.call(this)})},e=function(t,i,u){function h(n){return f&&e.callbacks[n]&&typeof e.callbacks[n]=="function"}function et(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||w<=-y]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],i=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],f=[p.height(),p.width()];t[0].mcs={content:o,top:n[0],left:n[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-f[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-f[1])),direction:u.dir}}var f=t.data(r),e=f.opt,it={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(it,u),k=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),d=e.callbacks.onTotalScrollOffset?ft.call(t,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ft.call(t,e.callbacks.onTotalScrollBackOffset):[0,0];if(f.trigger=u.trigger,(b.scrollTop()!==0||b.scrollLeft()!==0)&&(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),i!=="_resetY"||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(t[0]),f.contentReset.y=1),i!=="_resetX"||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(t[0]),f.contentReset.x=1),i!=="_resetY"&&i!=="_resetX"){(f.contentReset.y||!t[0].mcs)&&f.overflowed[0]&&(h("onOverflowY")&&e.callbacks.onOverflowY.call(t[0]),f.contentReset.x=null);(f.contentReset.x||!t[0].mcs)&&f.overflowed[1]&&(h("onOverflowX")&&e.callbacks.onOverflowX.call(t[0]),f.contentReset.x=null);e.snapAmount&&(i=yi(i,e.snapAmount,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),tt="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[i,i===0?0:i/f.scrollRatio.x],v=d[1],y=nt[1],rt=v>0?v/f.scrollRatio.x:0,ut=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),tt="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[i,i===0?0:i/f.scrollRatio.y],v=d[0],y=nt[0],rt=v>0?v/f.scrollRatio.y:0,ut=y>0?y/f.scrollRatio.y:0}(s[1]<0||s[0]===0&&s[1]===0?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0],t[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(t[0])),clearTimeout(o[0].onCompleteTimeout),!f.tweenRunning&&(w===0&&s[0]>=0||w===l[0]&&s[0]<=l[0]))||(at(c[0],tt,Math.round(s[1]),k[1],u.scrollEasing),at(o[0],tt,Math.round(s[0]),k[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(t[0])),f.tweenRunning=!0,g(c),f.cbOffsets=et())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){e.axis==="yx"&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(t[0]));h("onTotalScroll")&&s[1]>=l[1]-rt&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(t[0]));h("onTotalScrollBack")&&s[1]<=ut&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(t[0]));f.tweenRunning=!1;o[0].idleTimer=0;g(c,"hide")},n)}}}))}},at=function(n,i,r,u,f,e,o){function p(){s.stop||(h||k.call(),h=b()-nt,w(),h>=s.time&&(s.time=h>s.time?h+c-(h-s.time):h+c-1,s.time<h+1&&(s.time=h+1)),s.time<u?s.id=a(p):g.call())}function w(){u>0?(s.currVal=rt(s.time,l,y,u,f),v[i]=Math.round(s.currVal)+"px"):v[i]=r+"px";d.call()}function tt(){c=1e3/60;s.time=h+c;a=t.requestAnimationFrame?t.requestAnimationFrame:function(n){return w(),setTimeout(n,.01)};s.id=a(p)}function it(){s.id!=null&&(t.requestAnimationFrame?t.cancelAnimationFrame(s.id):clearTimeout(s.id),s.id=null)}function rt(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return(n/=r/2,n<1)?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return(n/=r/2,n<1)?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return(n/=r/2,n<1)?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var y;n._mTween||(n._mTween={top:{},left:{}});var o=o||{},k=o.onStart||function(){},d=o.onUpdate||function(){},g=o.onComplete||function(){},nt=b(),c,h=0,l=n.offsetTop,v=n.style,a,s=n._mTween[i];i==="left"&&(l=n.offsetLeft);y=r-l;s.stop=0;e!=="none"&&it();tt()},b=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},pi=function(){var n=this,u,r,i;for(n._mTween||(n._mTween={top:{},left:{}}),u=["top","left"],r=0;r<u.length;r++)i=u[r],n._mTween[i].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(n._mTween[i].id):clearTimeout(n._mTween[i].id),n._mTween[i].id=null,n._mTween[i].stop=1)},v=function(n,t){try{delete n[t]}catch(i){n[t]=null}},vt=function(n){return!(n.which&&n.which!==1)},tt=function(n){var t=n.originalEvent.pointerType;return!(t&&t!=="touch"&&t!==2)},it=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},s=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]};n.fn[l]=function(t){if(c[t])return c[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return c.init.apply(this,arguments)};n[l]=function(t){if(c[t])return c[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return c.init.apply(this,arguments)};n[l].defaults=ot;t[l]=!0;n(t).load(function(){n(rt)[l]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var i=n(t),u=i.parents(".mCSB_container"),f,r;if(u.length)return f=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+s(i)[0]>=0&&r[0]+s(i)[0]<f.height()-i.outerHeight(!1)&&r[1]+s(i)[1]>=0&&r[1]+s(i)[1]<f.width()-i.outerWidth(!1)},mcsOverflow:n.expr[":"].mcsOverflow||function(t){var i=n(t).data(r);if(i)return i.overflowed[0]||i.overflowed[1]}})})})}(jQuery,window,document),function(){var n=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(i){function u(){!n&&this.init&&this.init.apply(this,arguments)}var e=this.prototype,f,r;n=!0;f=new this;n=!1;for(r in i)f[r]=typeof i[r]=="function"&&typeof e[r]=="function"&&t.test(i[r])?function(n,t){return function(){var r=this._super,i;return this._super=e[n],i=t.apply(this,arguments),this._super=r,i}}(r,i[r]):i[r];return u.prototype=f,u.prototype.constructor=u,u.extend=arguments.callee,u}}(),function(n){"use strict";var t={trace:function(t){n.console!==undefined&&n.console.log("Porthole: "+t)},error:function(t){n.console!==undefined&&n.console.error("Porthole: "+t)}};t.WindowProxy=function(){};t.WindowProxy.prototype={post:function(){},addEventListener:function(){},removeEventListener:function(){}};t.WindowProxyBase=Class.extend({init:function(t){t===undefined&&(t="");this.targetWindowName=t;this.origin=n.location.protocol+"//"+n.location.host;this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},getTargetWindow:function(){return t.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(t,i){i===undefined&&(i="*");this.dispatchMessage({data:t,sourceOrigin:this.getOrigin(),targetOrigin:i,sourceWindowName:n.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(n){return this.eventListeners.push(n),n},removeEventListener:function(n){var t;try{t=this.eventListeners.indexOf(n);this.eventListeners.splice(t,1)}catch(i){this.eventListeners=[]}},dispatchEvent:function(n){for(var t=0;t<this.eventListeners.length;t++)try{this.eventListeners[t](n)}catch(i){}}});t.WindowProxyLegacy=t.WindowProxyBase.extend({init:function(n,t){if(this._super(t),n!==null)this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=n,this.proxyIFrameElement=this.createIFrameProxy();else{this.proxyIFrameElement=null;throw new Error("proxyIFrameUrl can't be null");}},createIFrameProxy:function(){var n=document.createElement("iframe");return n.setAttribute("id",this.proxyIFrameName),n.setAttribute("name",this.proxyIFrameName),n.setAttribute("src",this.proxyIFrameLocation),n.setAttribute("frameBorder","1"),n.setAttribute("scrolling","auto"),n.setAttribute("width",30),n.setAttribute("height",30),n.setAttribute("style","position: absolute; left: -100px; top:0px;"),n.style.setAttribute&&n.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;"),document.body.appendChild(n),n},dispatchMessage:function(i){var u=n.encodeURIComponent,r;this.proxyIFrameElement&&(r=this.proxyIFrameLocation+"#"+u(t.WindowProxy.serialize(i)),this.proxyIFrameElement.setAttribute("src",r),this.proxyIFrameElement.height=this.proxyIFrameElement.height>50?50:100)}});t.WindowProxyHTML5=t.WindowProxyBase.extend({init:function(n,t){this._super(t);this.eventListenerCallback=null},dispatchMessage:function(n){this.getTargetWindow().postMessage(t.WindowProxy.serialize(n),n.targetOrigin)},addEventListener:function(t){if(this.eventListeners.length===0){var i=this;this.eventListenerCallback=function(n){i.eventListener(i,n)};n.addEventListener("message",this.eventListenerCallback,!1)}return this._super(t)},removeEventListener:function(t){this._super(t);this.eventListeners.length===0&&(n.removeEventListener("message",this.eventListenerCallback),this.eventListenerCallback=null)},eventListener:function(n,i){var r=t.WindowProxy.unserialize(i.data);r&&(n.targetWindowName==""||r.sourceWindowName==n.targetWindowName)&&n.dispatchEvent(new t.MessageEvent(r.data,i.origin,n))}});typeof n.postMessage!="function"?(t.trace("Using legacy browser support"),t.WindowProxy=t.WindowProxyLegacy.extend({})):(t.trace("Using built-in browser support"),t.WindowProxy=t.WindowProxyHTML5.extend({}));t.WindowProxy.serialize=function(n){if(typeof JSON=="undefined")throw new Error("Porthole serialization depends on JSON!");return JSON.stringify(n)};t.WindowProxy.unserialize=function(n){if(typeof JSON=="undefined")throw new Error("Porthole unserialization dependens on JSON!");try{var t=JSON.parse(n)}catch(i){return!1}return t};t.WindowProxy.getTargetWindow=function(t){return t===""?top:t==="top"||t==="parent"?n[t]:parent.frames[t]};t.MessageEvent=function(n,t,i){this.data=n;this.origin=t;this.source=i};t.WindowProxyDispatcher={forwardMessageEvent:function(){var i,f=n.decodeURIComponent,u,r;document.location.hash.length>0&&(i=t.WindowProxy.unserialize(f(document.location.hash.substr(1))),u=t.WindowProxy.getTargetWindow(i.targetWindowName),r=t.WindowProxyDispatcher.findWindowProxyObjectInWindow(u,i.sourceWindowName),r?r.origin===i.targetOrigin||i.targetOrigin==="*"?r.dispatchEvent(new t.MessageEvent(i.data,i.sourceOrigin,r)):t.error("Target origin "+r.origin+" does not match desired target of "+i.targetOrigin):t.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(n,t){var i;if(n.RuntimeObject&&(n=n.RuntimeObject()),n)for(i in n)if(n.hasOwnProperty(i))try{if(n[i]!==null&&typeof n[i]=="object"&&n[i]instanceof n.Porthole.WindowProxy&&n[i].getTargetWindowName()===t)return n[i]}catch(r){}return null},start:function(){n.addEventListener?n.addEventListener("resize",t.WindowProxyDispatcher.forwardMessageEvent,!1):document.body.attachEvent?n.attachEvent("onresize",t.WindowProxyDispatcher.forwardMessageEvent):t.error("Cannot attach resize event")}};typeof n.exports!="undefined"?n.exports.Porthole=t:n.Porthole=t}(this),function(n,t){"use strict";typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.returnExports=t()}(this,function(){function g(n){var t=typeof n;return n===null||t==="undefined"||t==="boolean"||t==="number"||t==="string"}var t=Array.prototype,p=Object.prototype,et=Function.prototype,e=String.prototype,ot=Number.prototype,c=t.slice,st=t.splice,ri=t.push,ui=t.unshift,fi=et.call,s=p.toString,w=Array.isArray||function(n){return s.call(n)==="[object Array]"},b=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",u,ei=Function.prototype.toString,oi=function(n){try{return ei.call(n),!0}catch(t){return!1}},si="[object Function]",hi="[object GeneratorFunction]",d,i,r,l,a,ht,ct,lt,nt,tt,vt,yt,wt,it,rt,dt,n,ut,ft,ni,ti,ii;u=function(n){if(typeof n!="function")return!1;if(b)return oi(n);var t=s.call(n);return t===si||t===hi};var k,ci=RegExp.prototype.exec,li=function(n){try{return ci.call(n),!0}catch(t){return!1}},ai="[object RegExp]";k=function(n){return typeof n!="object"?!1:b?li(n):s.call(n)===ai};var f,vi=String.prototype.valueOf,yi=function(n){try{return vi.call(n),!0}catch(t){return!1}},pi="[object String]";f=function(n){return typeof n=="string"?!0:typeof n!="object"?!1:b?yi(n):s.call(n)===pi};d=function(n){var i=s.call(n),t=i==="[object Arguments]";return t||(t=!w(n)&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&u(n.callee)),t};i=function(n){var i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(n){return!1}}(),t;return t=i?function(n,t,i,r){!r&&t in n||Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:!0,value:i})}:function(n,t,i,r){!r&&t in n||(n[t]=i)},function(i,r,u){for(var f in r)n.call(r,f)&&t(i,f,r[f],u)}}(p.hasOwnProperty);r={ToInteger:function(n){var t=+n;return t!==t?t=0:t!==0&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(n){var t,i,r;if(g(n))return n;if((i=n.valueOf,u(i)&&(t=i.call(n),g(t)))||(r=n.toString,u(r)&&(t=r.call(n),g(t))))return t;throw new TypeError;},ToObject:function(n){if(n==null)throw new TypeError("can't convert "+n+" to object");return Object(n)},ToUint32:function(n){return n>>>0}};l=function(){};i(et,{bind:function(n){var t=this,r;if(!u(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);var f=c.call(arguments,1),i,o=function(){if(this instanceof i){var r=t.apply(this,f.concat(c.call(arguments)));return Object(r)===r?r:this}return t.apply(n,f.concat(c.call(arguments)))},s=Math.max(0,t.length-f.length),e=[];for(r=0;r<s;r++)e.push("$"+r);return i=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this, arguments); }")(o),t.prototype&&(l.prototype=t.prototype,i.prototype=new l,l.prototype=null),i}});a=fi.bind(p.hasOwnProperty);ht=function(){var n=[1,2],t=n.splice();return n.length===2&&w(t)&&t.length===0}();i(t,{splice:function(){return arguments.length===0?[]:st.apply(this,arguments)}},!ht);ct=function(){var n={};return t.splice.call(n,0,0,1),n.length===1}();i(t,{splice:function(n,t){if(arguments.length===0)return[];var i=arguments;return this.length=Math.max(r.ToInteger(this.length),0),arguments.length>0&&typeof t!="number"&&(i=c.call(arguments),i.length<2?i.push(this.length-n):i[1]=r.ToInteger(t)),st.apply(this,i)}},!ct);lt=[].unshift(0)!==1;i(t,{unshift:function(){return ui.apply(this,arguments),this.length}},lt);i(Array,{isArray:w});var at=Object("a"),o=at[0]!=="a"||!(0 in at),h=function(n){var t=!0,i=!0;return n&&(n.call("foo",function(n,i,r){typeof r!="object"&&(t=!1)}),n.call([1],function(){"use strict";i=typeof this=="string"},"x")),!!n&&t&&i};i(t,{forEach:function(n){var e=r.ToObject(this),i=o&&f(this)?this.split(""):e,s=arguments[1],t=-1,h=i.length>>>0;if(!u(n))throw new TypeError;while(++t<h)t in i&&n.call(s,i[t],t,e)}},!h(t.forEach));i(t,{map:function(n){var e=r.ToObject(this),i=o&&f(this)?this.split(""):e,s=i.length>>>0,h=Array(s),c=arguments[1],t;if(!u(n))throw new TypeError(n+" is not a function");for(t=0;t<s;t++)t in i&&(h[t]=n.call(c,i[t],t,e));return h}},!h(t.map));i(t,{filter:function(n){var s=r.ToObject(this),i=o&&f(this)?this.split(""):s,c=i.length>>>0,h=[],e,l=arguments[1],t;if(!u(n))throw new TypeError(n+" is not a function");for(t=0;t<c;t++)t in i&&(e=i[t],n.call(l,e,t,s)&&h.push(e));return h}},!h(t.filter));i(t,{every:function(n){var e=r.ToObject(this),i=o&&f(this)?this.split(""):e,s=i.length>>>0,h=arguments[1],t;if(!u(n))throw new TypeError(n+" is not a function");for(t=0;t<s;t++)if(t in i&&!n.call(h,i[t],t,e))return!1;return!0}},!h(t.every));i(t,{some:function(n){var e=r.ToObject(this),i=o&&f(this)?this.split(""):e,s=i.length>>>0,h=arguments[1],t;if(!u(n))throw new TypeError(n+" is not a function");for(t=0;t<s;t++)if(t in i&&n.call(h,i[t],t,e))return!0;return!1}},!h(t.some));nt=!1;t.reduce&&(nt=typeof t.reduce.call("es5",function(n,t,i,r){return r})=="object");i(t,{reduce:function(n){var h=r.ToObject(this),i=o&&f(this)?this.split(""):h,s=i.length>>>0,t,e;if(!u(n))throw new TypeError(n+" is not a function");if(!s&&arguments.length===1)throw new TypeError("reduce of empty array with no initial value");if(t=0,arguments.length>=2)e=arguments[1];else do{if(t in i){e=i[t++];break}if(++t>=s)throw new TypeError("reduce of empty array with no initial value");}while(1);for(;t<s;t++)t in i&&(e=n.call(void 0,e,i[t],t,h));return e}},!nt);tt=!1;t.reduceRight&&(tt=typeof t.reduceRight.call("es5",function(n,t,i,r){return r})=="object");i(t,{reduceRight:function(n){var s=r.ToObject(this),e=o&&f(this)?this.split(""):s,h=e.length>>>0,i,t;if(!u(n))throw new TypeError(n+" is not a function");if(!h&&arguments.length===1)throw new TypeError("reduceRight of empty array with no initial value");if(t=h-1,arguments.length>=2)i=arguments[1];else do{if(t in e){i=e[t--];break}if(--t<0)throw new TypeError("reduceRight of empty array with no initial value");}while(1);if(t<0)return i;do t in e&&(i=n.call(void 0,i,e[t],t,s));while(t--);return i}},!tt);vt=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;i(t,{indexOf:function(n){var i=o&&f(this)?this.split(""):r.ToObject(this),u=i.length>>>0,t;if(!u)return-1;for(t=0,arguments.length>1&&(t=r.ToInteger(arguments[1])),t=t>=0?t:Math.max(0,u+t);t<u;t++)if(t in i&&i[t]===n)return t;return-1}},vt);yt=Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;i(t,{lastIndexOf:function(n){var i=o&&f(this)?this.split(""):r.ToObject(this),u=i.length>>>0,t;if(!u)return-1;for(t=u-1,arguments.length>1&&(t=Math.min(t,r.ToInteger(arguments[1]))),t=t>=0?t:u-Math.abs(t);t>=0;t--)if(t in i&&n===i[t])return t;return-1}},yt);var wi=!{toString:null}.propertyIsEnumerable("toString"),bi=function(){}.propertyIsEnumerable("prototype"),ki=!a("x","0"),pt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],di=pt.length;i(Object,{keys:function(n){var c=u(n),s=d(n),l=n!==null&&typeof n=="object",p=l&&f(n),t,v,i,r,h,y,e,o;if(!l&&!c&&!s)throw new TypeError("Object.keys called on a non-object");if(t=[],v=bi&&c,p&&ki||s)for(i=0;i<n.length;++i)t.push(String(i));if(!s)for(r in n)v&&r==="prototype"||!a(n,r)||t.push(String(r));if(wi)for(h=n.constructor,y=h&&h.prototype===n,e=0;e<di;e++)o=pt[e],y&&o==="constructor"||!a(n,o)||t.push(o);return t}});wt=Object.keys&&function(){return Object.keys(arguments).length===2}(1,2);it=Object.keys;i(Object,{keys:function(n){return d(n)?it(t.slice.call(n)):it(n)}},!wt);var bt=-621987552e5,kt="-000001",gi=Date.prototype.toISOString&&new Date(bt).toISOString().indexOf(kt)===-1;i(Date.prototype,{toISOString:function(){var t,r,u,n,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(n=this.getUTCFullYear(),i=this.getUTCMonth(),n+=Math.floor(i/12),i=(i%12+12)%12,t=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],n=(n<0?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(0<=n&&n<=9999?-4:-6),r=t.length;r--;)u=t[r],u<10&&(t[r]="0"+u);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},gi);rt=!1;try{rt=Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(bt).toJSON().indexOf(kt)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(vu){}rt||(Date.prototype.toJSON=function(){var n=Object(this),i=r.ToPrimitive(n),t;if(typeof i=="number"&&!isFinite(i))return null;if(t=n.toISOString,typeof t!="function")throw new TypeError("toISOString property is not callable");return t.call(n)});var nr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15,tr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),ir=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||ir||tr||!nr)&&(Date=function(n){function t(i,r,u,f,e,o,s){var h=arguments.length,c;return this instanceof n?(c=h===1&&String(i)===i?new n(t.parse(i)):h>=7?new n(i,r,u,f,e,o,s):h>=6?new n(i,r,u,f,e,o):h>=5?new n(i,r,u,f,e):h>=4?new n(i,r,u,f):h>=3?new n(i,r,u):h>=2?new n(i,r):h>=1?new n(i):new n,c.constructor=t,c):n.apply(this,arguments)}function i(n,t){var i=t>1?1:0;return f[t]+Math.floor((n-1969+i)/4)-Math.floor((n-1901+i)/100)+Math.floor((n-1601+i)/400)+365*(n-1970)}function e(t){return Number(new n(1970,0,1,0,0,0,t))}var u=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),f=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var r in n)t[r]=n[r];return t.now=n.now,t.UTC=n.UTC,t.prototype=n.prototype,t.prototype.constructor=t,t.parse=function(t){var r=u.exec(t);if(r){var s=Number(r[1]),o=Number(r[2]||1)-1,h=Number(r[3]||1)-1,v=Number(r[4]||0),c=Number(r[5]||0),l=Number(r[6]||0),a=Math.floor(Number(r[7]||0)*1e3),b=Boolean(r[4]&&!r[8]),y=r[9]==="-"?1:-1,p=Number(r[10]||0),w=Number(r[11]||0),f;return v<(c>0||l>0||a>0?24:25)&&c<60&&l<60&&a<1e3&&o>-1&&o<12&&p<24&&w<60&&h>-1&&h<i(s,o+1)-i(s,o)&&(f=((i(s,o)+h)*24+v+p*y)*60,f=((f+c+w*y)*60+l)*1e3+a,b&&(f=e(f)),-864e13<=f&&f<=864e13)?f:NaN}return n.parse.apply(this,arguments)},t}(Date));Date.now||(Date.now=function(){return(new Date).getTime()});dt=ot.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128");n={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,i){for(var r=-1;++r<n.size;)i+=t*n.data[r],n.data[r]=i%n.base,i=Math.floor(i/n.base)},divide:function(t){for(var r=n.size,i=0;--r>=0;)i+=n.data[r],n.data[r]=Math.floor(i/t),i=i%t*n.base},numToString:function(){for(var i=n.size,t="",r;--i>=0;)(t!==""||i===0||n.data[i]!==0)&&(r=String(n.data[i]),t===""?t=r:t+="0000000".slice(0,7-r.length)+r);return t},pow:function gt(n,t,i){return t===0?i:t%2==1?gt(n,t-1,i*n):gt(n*n,t/2,i)},log:function(n){for(var t=0;n>=4096;)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t}};i(ot,{toFixed:function(t){var i,r,o,u,f,h,e,s;if(i=Number(t),i=i!==i?0:Math.floor(i),i<0||i>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(r=Number(this),r!==r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(o="",r<0&&(o="-",r=-r),u="0",r>1e-21)if(f=n.log(r*n.pow(2,69,1))-69,h=f<0?r*n.pow(2,-f,1):r/n.pow(2,f,1),h*=4503599627370496,f=52-f,f>0){for(n.multiply(0,h),e=i;e>=7;)n.multiply(1e7,0),e-=7;for(n.multiply(n.pow(10,e,1),0),e=f-1;e>=23;)n.divide(8388608),e-=23;n.divide(1<<e);n.multiply(1,1);n.divide(2);u=n.numToString()}else n.multiply(0,h),n.multiply(1<<-f,0),u=n.numToString()+"0.00000000000000000000".slice(2,2+i);return i>0?(s=u.length,u=s<=i?o+"0.0000000000000000000".slice(0,i-s+2)+u:o+u.slice(0,s-i)+"."+u.slice(s-i)):u=o+u,u}},dt);ut=e.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var n=typeof/()??/.exec("")[1]=="undefined";e.split=function(t,i){var e=this;if(typeof t=="undefined"&&i===0)return[];if(!k(t))return ut.call(this,t,i);var f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),o=0,c,u,s,l;for(t=new RegExp(t.source,h+"g"),e+="",n||(c=new RegExp("^"+t.source+"$(?!\\s)",h)),i=typeof i=="undefined"?-1>>>0:r.ToUint32(i),u=t.exec(e);u;){if(s=u.index+u[0].length,s>o&&(f.push(e.slice(o,u.index)),!n&&u.length>1&&u[0].replace(c,function(){for(var n=1;n<arguments.length-2;n++)typeof arguments[n]=="undefined"&&(u[n]=void 0)}),u.length>1&&u.index<e.length&&ri.apply(f,u.slice(1)),l=u[0].length,o=s,f.length>=i))break;t.lastIndex===u.index&&t.lastIndex++;u=t.exec(e)}return o===e.length?(l||!t.test(""))&&f.push(""):f.push(e.slice(o)),f.length>i?f.slice(0,i):f}}():"0".split(void 0,0).length&&(e.split=function(n,t){return typeof n=="undefined"&&t===0?[]:ut.call(this,n,t)});ft=e.replace;ni=function(){var n=[];return"x".replace(/x(.)?/g,function(t,i){n.push(i)}),n.length===1&&typeof n[0]=="undefined"}();ni||(e.replace=function(n,t){var r=u(t),f=k(n)&&/\)[*?]/.test(n.source),i;return r&&f?(i=function(i){var u=arguments.length,f=n.lastIndex,r;return n.lastIndex=0,r=n.exec(i)||[],n.lastIndex=f,r.push(arguments[u-2],arguments[u-1]),t.apply(this,r)},ft.call(this,n,i)):ft.call(this,n,t)});ti=e.substr;ii="".substr&&"0b".substr(-1)!=="b";i(e,{substr:function(n,t){return ti.call(this,n<0?(n=this.length+n)<0?0:n:n,t)}},ii);var v="\t\n\x0b\f\r \u2028\u2029",y="["+v+"]",rr=new RegExp("^"+y+y+"*"),ur=new RegExp(y+y+"*$"),fr=e.trim&&(v.trim()||!"".trim());i(e,{trim:function(){if(typeof this=="undefined"||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(rr,"").replace(ur,"")}},fr);(parseInt(v+"08")!==8||parseInt(v+"0x16")!==22)&&(parseInt=function(n){var t=/^0[xX]/;return function(i,r){return i=String(i).trim(),Number(r)||(r=t.test(i)?16:10),n(i,r)}}(parseInt))});select2OpenTime=(new Date).getTime(),function(n){typeof n.fn.each2=="undefined"&&n.extend(n.fn,{each2:function(t){for(var i=n([0]),r=-1,u=this.length;++r<u&&(i.context=i[0]=this[r])&&t.call(i[0],r,i)!==!1;);return this}})}(jQuery),function(n,t){"use strict";function tt(t){var i=n(document.createTextNode(""));t.before(i);i.before(t);i.remove()}function c(n){function t(n){return lt[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function e(n,t){for(var i=0,r=t.length;i<r;i=i+1)if(f(n,t[i]))return i;return-1}function at(){var t=n(ct),i;return t.appendTo("body"),i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight},t.remove(),i}function f(n,i){return n===i?!0:n===t||i===t?!1:n===null||i===null?!1:n.constructor===String?n+""==i+"":i.constructor===String?i+""==n+"":!1}function w(t,i){var u,r,f;if(t===null||t.length<1)return[];for(u=t.split(i),r=0,f=u.length;r<f;r=r+1)u[r]=n.trim(u[r]);return u}function it(n){return n.outerWidth(!1)-n.width()}function rt(i){var r="keyup-change-value";i.on("keydown",function(){n.data(i,r)===t&&n.data(i,r,i.val())});i.on("keyup",function(){var u=n.data(i,r);u!==t&&i.val()!==u&&(n.removeData(i,r),i.trigger("keyup-change"))})}function vt(i){i.on("mousemove",function(i){var r=v;(r===t||r.x!==i.pageX||r.y!==i.pageY)&&n(i.target).trigger("mousemove-filtered",i)})}function b(n,i,r){r=r||t;var u;return function(){var t=arguments;window.clearTimeout(u);u=window.setTimeout(function(){i.apply(r,t)},n)}}function yt(n,t){var i=b(n,function(n){t.trigger("scroll-debounced",n)});t.on("scroll",function(n){e(n.target,t.get())>=0&&i(n)})}function pt(n){n[0]!==document.activeElement&&window.setTimeout(function(){var t=n[0],r=n.val().length,i,u;n.focus();u=t.offsetWidth>0||t.offsetHeight>0;u&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(r,r):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function wt(t){var i,r,u;return t=n(t)[0],i=0,r=0,"selectionStart"in t?(i=t.selectionStart,r=t.selectionEnd-i):"selection"in document&&(t.focus(),u=document.selection.createRange(),r=document.selection.createRange().text.length,u.moveStart("character",-t.value.length),i=u.text.length-r),{offset:i,length:r}}function r(n){n.preventDefault();n.stopPropagation()}function bt(n){n.preventDefault();n.stopImmediatePropagation()}function kt(t){if(!s){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);s=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});s.attr("class","select2-sizer");n("body").append(s)}return s.text(t.val()),s.width()}function a(t,i,r){var u,f=[],e;u=n.trim(t.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each2(function(){this.indexOf("select2-")===0&&f.push(this)}));u=n.trim(i.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each2(function(){this.indexOf("select2-")!==0&&(e=r(this),e&&f.push(e))}));t.attr("class",f.join(" "))}function ut(n,t,i,r){var u=c(n.toUpperCase()).indexOf(c(t.toUpperCase())),f=t.length;if(u<0){i.push(r(n));return}i.push(r(n.substring(0,u)));i.push("<span class='select2-match'>");i.push(r(n.substring(u,u+f)));i.push("<\/span>");i.push(r(n.substring(u+f,n.length)))}function ft(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})}function et(i){var f,r=null,e=i.quietMillis||100,o=i.url,u=this;return function(s){window.clearTimeout(f);f=window.setTimeout(function(){var e=i.data,f=o,c=i.transport||n.fn.select2.ajaxDefaults.transport,l={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=n.extend({},n.fn.select2.ajaxDefaults.params,l);e=e?e.call(u,s.term,s.page,s.context):null;f=typeof f=="function"?f.call(u,s.term,s.page,s.context):f;r&&typeof r.abort=="function"&&r.abort();i.params&&(n.isFunction(i.params)?n.extend(h,i.params.call(u)):n.extend(h,i.params));n.extend(h,{url:f,dataType:i.dataType,data:e,success:function(n){var t=i.results(n,s.page,s);s.callback(t)},error:function(n,t,i){var r={hasError:!0,jqXHR:n,textStatus:t,errorThrown:i};s.callback(r)}});r=c.call(u,h)},e)}}function ot(t){var i=t,e,u,r=function(n){return""+n.text},f;return n.isArray(i)&&(u=i,i={results:u}),n.isFunction(i)===!1&&(u=i,i=function(){return u}),f=i(),f.text&&(r=f.text,n.isFunction(r)||(e=f.text,r=function(n){return n[e]})),function(t){var u=t.term,e={results:[]},f;if(u===""){t.callback(i());return}f=function(i,e){var o,s;if(i=i[0],i.children){o={};for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);o.children=[];n(i.children).each2(function(n,t){f(t,o.children)});(o.children.length||t.matcher(u,r(o),i))&&e.push(o)}else t.matcher(u,r(i),i)&&e.push(i)};n(i().results).each2(function(n,t){f(t,e.results)});t.callback(e)}}function st(i){var r=n.isFunction(i);return function(u){var f=u.term,e={results:[]},o=r?i(u):i;n.isArray(o)&&(n(o).each(function(){var n=this.text!==t,i=n?this.text:this;(f===""||u.matcher(f,i))&&e.results.push(n?this:{id:this,text:this})}),u.callback(e))}}function o(t,i){if(n.isFunction(t))return!0;if(!t)return!1;if(typeof t=="string")return!0;throw new Error(i+" must be a string, function, or falsy value");}function u(t,i){if(n.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(i,r)}return t}function ht(t){var i=0;return n.each(t,function(n,t){t.children?i+=ht(t.children):i++}),i}function dt(n,i,r,u){var a=n,c=!1,e,s,o,h,l;if(!u.createSearchChoice||!u.tokenSeparators||u.tokenSeparators.length<1)return t;for(;;){for(s=-1,o=0,h=u.tokenSeparators.length;o<h;o++)if(l=u.tokenSeparators[o],s=n.indexOf(l),s>=0)break;if(s<0)break;if(e=n.substring(0,s),n=n.substring(s+l.length),e.length>0&&(e=u.createSearchChoice.call(this,e,i),e!==t&&e!==null&&u.id(e)!==t&&u.id(e)!==null)){for(c=!1,o=0,h=i.length;o<h;o++)if(f(u.id(e),u.id(i[o]))){c=!0;break}c||r(e)}}if(a!==n)return n}function k(){var t=this;n.each(arguments,function(n,i){t[i].remove();t[i]=null})}function d(t,i){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=n.extend(r.prototype,i),r}if(window.Select2===t){var l,g,nt,h,s,v={x:0,y:0},y,p,i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(n){n=n.which?n.which:n;switch(n){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return!0}return!1},isControl:function(n){var t=n.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return!0}return n.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&n<=123}},ct="<div class='select2-measure-scrollbar'><\/div>",lt={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};y=n(document);h=function(){var n=1;return function(){return n++}}();l=d(Object,{bind:function(n){var t=this;return function(){n.apply(t,arguments)}},init:function(i){var f,e,o=".select2-results",s,c;this.opts=i=this.prepareOpts(i);this.id=i.id;i.element.data("select2")!==t&&i.element.data("select2")!==null&&i.element.data("select2").destroy();this.container=this.createContainer();this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);this.containerId="s2id_"+(i.element.attr("id")||"autogen"+h());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",i.element.attr("title"));this.body=n("body");a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",i.element.attr("style"));this.container.css(u(i.containerCss,this.opts.element));this.container.addClass(u(i.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",r);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(i.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",r);this.results=f=this.container.find(o);this.search=e=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",r);vt(this.results);this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(n){this._touchEvent=!0;this.highlightUnderEvent(n)}));this.dropdown.on("touchmove",o,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}));yt(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));n(this.container).on("change",".select2-input",function(n){n.stopPropagation()});n(this.dropdown).on("change",".select2-input",function(n){n.stopPropagation()});n.fn.mousewheel&&f.mousewheel(function(n,t,i,u){var e=f.scrollTop();u>0&&e-u<=0?(f.scrollTop(0),r(n)):u<0&&f.get(0).scrollHeight-f.scrollTop()+u<=f.height()&&(f.scrollTop(f.get(0).scrollHeight-f.height()),r(n))});rt(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){n(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(n){n.stopPropagation()});this.nextSearchTerm=t;n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());i.maximumInputLength!==null&&this.search.attr("maxlength",i.maximumInputLength);s=i.element.prop("disabled");s===t&&(s=!1);this.enable(!s);c=i.element.prop("readonly");c===t&&(c=!1);this.readonly(c);p=p||at();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",!1);this.autofocus&&this.focus();this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var n=this.opts.element,i=n.data("select2"),r=this;this.close();n.length&&n[0].detachEvent&&n.each(function(){this.detachEvent("onpropertychange",r._sync)});this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null);this._sync=null;i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),n.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?n.attr({tabindex:this.elementTabIndex}):n.removeAttr("tabindex"),n.show());k.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(n){return n.is("option")?{id:n.prop("value"),text:n.text(),element:n.get(),css:n.attr("class"),disabled:n.prop("disabled"),locked:f(n.attr("locked"),"locked")||f(n.data("locked"),!0)}:n.is("optgroup")?{text:n.attr("label"),children:[],element:n.get(),css:n.attr("class")}:void 0},prepareOpts:function(i){var e,o,s,r,u=this;if(e=i.element,e.get(0).tagName.toLowerCase()==="select"&&(this.select=o=i.element),o&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),i=n.extend({},{populateResults:function(r,f,e){var o,s=this.opts.id,c=this.liveRegion;o=function(r,f,l){var p,nt,v,tt,b,k,a,y,w,d,g;for(r=i.sortResults(r,f,e),g=[],p=0,nt=r.length;p<nt;p=p+1)v=r[p],b=v.disabled===!0,tt=!b&&s(v)!==t,k=v.children&&v.children.length>0,a=n("<li><\/li>"),a.addClass("select2-results-dept-"+l),a.addClass("select2-result"),a.addClass(tt?"select2-result-selectable":"select2-result-unselectable"),b&&a.addClass("select2-disabled"),k&&a.addClass("select2-result-with-children"),a.addClass(u.opts.formatResultCssClass(v)),a.attr("role","presentation"),y=n(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+h()),y.attr("role","option"),d=i.formatResult(v,y,e,u.opts.escapeMarkup),d!==t&&(y.html(d),a.append(y)),k&&(w=n("<ul><\/ul>"),w.addClass("select2-result-sub"),o(v.children,w,l+1),a.append(w)),a.data("select2-data",v),g.push(a[0]);f.append(g);c.text(i.formatMatches(r.length))};o(f,r,0)}},n.fn.select2.defaults,i),typeof i.id!="function"&&(s=i.id,i.id=function(n){return n[s]}),n.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(n){var o={results:[],more:!1},s=n.term,i,r,f;f=function(t,i){var r;t.is("option")?n.matcher(s,t.text(),t)&&i.push(u.optionToData(t)):t.is("optgroup")&&(r=u.optionToData(t),t.children().each2(function(n,t){f(t,r.children)}),r.children.length>0&&i.push(r))};i=e.children();this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r)));i.each2(function(n,t){f(t,o.results)});n.callback(o)}),i.id=function(n){return n.id}):"query"in i||("ajax"in i?(r=i.element.data("ajax-url"),r&&r.length>0&&(i.ajax.url=r),i.query=et.call(i.element,i.ajax)):"data"in i?i.query=ot(i.data):"tags"in i&&(i.query=st(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:n.trim(t),text:n.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,r){var u=[];n(w(t.val(),i.separator)).each(function(){var r={id:this,text:this},t=i.tags;n.isFunction(t)&&(t=t());n(t).each(function(){if(f(this.id,r.id))return r=this,!1});u.push(r)});r(u)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");if(i.createSearchChoicePosition==="top")i.createSearchChoicePosition=function(n,t){n.unshift(t)};else if(i.createSearchChoicePosition==="bottom")i.createSearchChoicePosition=function(n,t){n.push(t)};else if(typeof i.createSearchChoicePosition!="function")throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i=this.opts.element,r,f=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));this._sync=this.bind(function(){var r=i.prop("disabled"),n;r===t&&(r=!1);this.enable(!r);n=i.prop("readonly");n===t&&(n=!1);this.readonly(n);a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(u(this.opts.containerCssClass,this.opts.element));a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(this.opts.dropdownCssClass,this.opts.element))});i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",f._sync)});r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(function(t){n.each(t,f._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=n.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=n.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var n=this._enabled&&!this._readonly,t=!n;return n===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=n,!0)},enable:function(n){(n===t&&(n=!0),this._enabled!==n)&&(this._enabled=n,this.opts.element.prop("disabled",!n),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(n){(n===t&&(n=!1),this._readonly!==n)&&(this._readonly=n,this.opts.element.prop("readonly",n),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t=this.dropdown,r=this.container.offset(),v=this.container.outerHeight(!1),s=this.container.outerWidth(!1),h=t.outerHeight(!1),e=n(window),d=e.width(),g=e.height(),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=r.top+v,o=r.left,tt=a+h<=nt,it=r.top-h>=e.scrollTop(),i=t.outerWidth(!1),y=o+i<=l,rt=t.hasClass("select2-drop-above"),w,c,b,f,k;rt?(c=!0,!it&&tt&&(b=!0,c=!1)):(c=!1,!tt&&it&&(b=!0,c=!0));b&&(t.hide(),r=this.container.offset(),v=this.container.outerHeight(!1),s=this.container.outerWidth(!1),h=t.outerHeight(!1),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=r.top+v,o=r.left,i=t.outerWidth(!1),y=o+i<=l,t.show(),this.focusSearch());this.opts.dropdownAutoWidth?(k=n(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),i=t.outerWidth(!1)+(k.scrollHeight===k.clientHeight?0:p.width),i>s?s=i:i=s,h=t.outerHeight(!1),y=o+i<=l):this.container.removeClass("select2-drop-auto-width");this.body.css("position")!=="static"&&(w=this.body.offset(),a-=w.top,o-=w.left);y||(o=r.left+this.container.outerWidth(!1)-i);f={left:o,width:s};c?(f.top=r.top-h,f.bottom="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(f.top=a,f.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above"));f=n.extend(f,u(this.opts.dropdownCss,this.opts.element));t.css(f)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;this.opening();y.on("mousemove.select2Event",function(n){v.x=n.pageX;v.y=n.pageY});return!0},opening:function(){var i=this.containerEventName,u="scroll."+i,f="resize."+i,e="orientationchange."+i,t,r;if(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=n("#select2-drop-mask"),t.length==0){t=n(document.createElement("div"));t.attr("id","select2-drop-mask").attr("class","select2-drop-mask");t.hide();t.appendTo(this.body);t.on("mousedown touchstart click",function(i){tt(t);var u=n("#select2-drop"),r;u.length>0&&(r=u.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})}this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t);n("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");t.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");r=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+u+" "+e,function(){r.opened()&&r.positionDropdown()})});select2OpenTime=(new Date).getTime()},close:function(){var i;if(this.opened()&&(!(n(".touch").length>0)||(i=(new Date).getTime(),!(select2OpenTime>i-1e3)))){var t=this.containerEventName,r="scroll."+t,u="resize."+t,f="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(r).off(u).off(f)});this.clearDropdownAlignmentPreference();n("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");y.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(n){this.open();this.search.val(n);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return u(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t=this.results,e,i,r,u,o,s,f,h;if(i=this.highlight(),!(i<0)){if(i==0){t.scrollTop(0);return}e=this.findHighlightableChoices().find(".select2-result-label");r=n(e[i]);h=(r.offset()||{}).top||0;u=h+r.outerHeight(!0);i===e.length-1&&(f=t.find("li.select2-more-results"),f.length>0&&(u=f.offset().top+f.outerHeight(!0)));o=t.offset().top+t.outerHeight(!0);u>o&&t.scrollTop(t.scrollTop()+(u-o));s=h-t.offset().top;s<0&&r.css("display")!="none"&&t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var r=this.findHighlightableChoices(),i=this.highlight(),f,u,e;i>-1&&i<r.length;)if(i+=t,f=n(r[i]),f.hasClass("select2-result-selectable")&&!f.hasClass("select2-disabled")&&!f.hasClass("select2-selected")){this.highlight(i);u=n(".select2-drop-active:visible .mCSB_container");u.length>0&&(-u.position().top+n(".select2-drop-active:visible").height()<n(r[i]).position().top+15+n(r[i]).height()*2?u.css("top",Math.min(0,n(".select2-drop-active:visible").height()-(n(r[i]).position().top+15+n(r[i]).height()*2))):n(r[i]).position().top<-u.position().top&&u.css("top",Math.min(0,-n(r[i]).position().top)));n(".select2-drop-active:visible .mCSB_dragger").length>0&&(e=n(".select2-drop-active:visible .mCSB_dragger").parent().height()*(-u.position().top/u.height()),n(".select2-drop-active:visible .mCSB_dragger").css("top",e));break}},highlight:function(t){var i=this.findHighlightableChoices(),r,u;if(arguments.length===0)return e(i.filter(".select2-highlighted")[0],i.get());t>=i.length&&(t=i.length-1);t<0&&(t=0);this.removeHighlight();r=n(i[t]);r.addClass("select2-highlighted");this.search.attr("aria-activedescendant",r.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(r.text());u=r.data("select2-data");u&&this.opts.element.trigger({type:"select2-highlight",val:this.id(u),choice:u})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=n(t.target).closest(".select2-result-selectable"),r;i.length>0&&!i.is(".select2-highlighted")?(r=this.findHighlightableChoices(),this.highlight(r.index(i))):i.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,i=t.find("li.select2-more-results"),f,r=this.resultsPage+1,n=this,e=this.search.val(),o=this.context;i.length!==0&&(f=i.offset().top-t.offset().top-t.height(),f<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:e,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(f){if(n.opened()){var s=t;t.find(".mCSB_container").length>0&&(s=t.find(".mCSB_container"));n.opts.populateResults.call(this,s,f.results,{term:e,page:r,context:o});n.postprocessResults(f,!1,!1);f.more===!0?(i.detach().appendTo(s).text(u(n.opts.formatLoadMore,n.opts.element,r+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove();n.positionDropdown();n.resultsPage=r;n.context=f.context;this.opts.element.trigger({type:"select2-loaded",items:f})}})})))},tokenize:function(){},updateResults:function(i){function b(){e.removeClass("select2-active");s.positionDropdown();h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?s.liveRegion.text(h.text()):s.liveRegion.text(s.opts.formatMatches(h.find(".select2-result-selectable").length))}function c(n){h.html(n);b()}var e=this.search,h=this.results,r=this.opts,v,s=this,l,y=e.val(),p=n.data(this.container,"select2-last-term"),w,a;if((i===!0||!p||!f(y,p))&&(n.data(this.container,"select2-last-term",y),i===!0||this.showSearchInput!==!1&&this.opened())){if(w=++this.queryCount,a=this.getMaximumSelectionSize(),a>=1&&(v=this.data(),n.isArray(v)&&v.length>=a&&o(r.formatSelectionTooBig,"formatSelectionTooBig"))){c("<li class='select2-selection-limit'>"+u(r.formatSelectionTooBig,r.element,a)+"<\/li>");return}if(e.val().length<r.minimumInputLength){o(r.formatInputTooShort,"formatInputTooShort")?c("<li class='select2-no-results'>"+u(r.formatInputTooShort,r.element,e.val(),r.minimumInputLength)+"<\/li>"):c("");i&&this.showSearch&&this.showSearch(!0);return}if(r.maximumInputLength&&e.val().length>r.maximumInputLength){o(r.formatInputTooLong,"formatInputTooLong")?c("<li class='select2-no-results'>"+u(r.formatInputTooLong,r.element,e.val(),r.maximumInputLength)+"<\/li>"):c("");return}r.formatSearching&&this.findHighlightableChoices().length===0&&c("<li class='select2-searching'>"+u(r.formatSearching,r.element)+"<\/li>");e.addClass("select2-active");this.removeHighlight();l=this.tokenize();l!=t&&l!=null&&e.val(l);this.resultsPage=1;r.query({element:r.element,term:e.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(l){var a,v;if(w==this.queryCount){if(!this.opened()){this.search.removeClass("select2-active");return}if(l.hasError!==t&&o(r.formatAjaxError,"formatAjaxError")){c("<li class='select2-ajax-error'>"+u(r.formatAjaxError,r.element,l.jqXHR,l.textStatus,l.errorThrown)+"<\/li>");return}if(this.context=l.context===t?null:l.context,this.opts.createSearchChoice&&e.val()!==""&&(a=this.opts.createSearchChoice.call(s,e.val(),l.results),a!==t&&a!==null&&s.id(a)!==t&&s.id(a)!==null&&n(l.results).filter(function(){return f(s.id(this),s.id(a))}).length===0&&this.opts.createSearchChoicePosition(l.results,a)),l.results.length===0&&o(r.formatNoMatches,"formatNoMatches")){c("<li class='select2-no-results'>"+u(r.formatNoMatches,r.element,e.val())+"<\/li>");return}h.find("li").each(function(){n(this).remove()});v=h;h.find(".mCSB_container").length>0&&(v=h.find(".mCSB_container"));s.opts.populateResults.call(this,v,l.results,{term:e.val(),page:this.resultsPage,context:null});l.more===!0&&o(r.formatLoadMore,"formatLoadMore")&&(v.append("<li class='select2-more-results'>"+r.escapeMarkup(u(r.formatLoadMore,r.element,this.resultsPage))+"<\/li>"),window.setTimeout(function(){s.loadMoreIfNeeded()},10));this.postprocessResults(l,i);b();this.opts.element.trigger({type:"select2-loaded",items:l})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){pt(this.search)},selectHighlighted:function(n){if(this._touchMoved){this.clearTouchMoved();return}var i=this.highlight(),r=this.results.find(".select2-highlighted"),t=r.closest(".select2-result").data("select2-data");if(t){this.highlight(i);this.onSelect(t,n)}else n&&n.noFocus&&this.close()},getPlaceholder:function(){var n;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((n=this.getPlaceholderOption())!==t?n.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&i||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(n.trim(i.text())===""&&i.val()==="")return i}},initContainerWidth:function(){function r(){var i,f,u,r,e,o;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==t)for(f=i.split(";"),r=0,e=f.length;r<e;r=r+1)if(o=f[r].replace(/\s/g,""),u=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),u!==null&&u.length>=1)return u[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0)?i:this.opts.element.outerWidth(!1)===0?"100%":this.opts.element.outerWidth(!1)+"px":null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=r.call(this);i!==null&&this.container.css("width",i)}});g=d(l,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'><\/b><\/span><\/a><label for='' class='select2-offscreen'><\/label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'><\/label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   <\/div>   <ul class='select2-results' role='listbox'>   <\/ul><\/div>")},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,r,u;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(r=i.createTextRange(),r.collapse(!1),r.select()):i.setSelectionRange&&(u=this.search.val().length,i.setSelectionRange(u,u)));this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);k.call(this,"selection","focusser")},initContainer:function(){var t,e=this.container,s=this.dropdown,u=h(),f,o;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0);this.selection=t=e.find(".select2-choice");this.focusser=e.find(".select2-focusser");t.find(".select2-chosen").attr("id","select2-chosen-"+u);this.focusser.attr("aria-labelledby","select2-chosen-"+u);this.results.attr("id","select2-results-"+u);this.search.attr("aria-owns","select2-results-"+u);this.focusser.attr("id","s2id_autogen"+u);f=n("label[for='"+this.opts.element.attr("id")+"']");this.focusser.prev().text(f.text()).attr("for",this.focusser.attr("id"));o=this.opts.element.attr("title");this.opts.element.attr("title",o||f.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(n("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&229!=n.keyCode){if(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN){r(n);return}switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.selectHighlighted({noFocus:!0});return;case i.ESC:this.cancel(n);r(n);return}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.ESC){if(this.opts.openOnEnter===!1&&n.which===i.ENTER){this.container.parents("form").find(".HiddenSubmit").click();r(n);return}if(n.which==i.DOWN||n.which==i.UP||n.which==i.ENTER&&this.opts.openOnEnter){if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return;this.open();r(n);return}if(n.which==i.DELETE||n.which==i.BACKSPACE){this.opts.allowClear&&this.clear();r(n);return}}}));rt(this.focusser);this.focusser.on("keyup-change input",this.bind(function(n){if(this.opts.minimumResultsForSearch>=0){if(n.stopPropagation(),this.opened())return;this.open()}}));t.on("mousedown touchstart","abbr",this.bind(function(n){this.isInterfaceEnabled()&&(this.clear(),bt(n),this.close(),this.selection.focus())}));t.on("mousedown touchstart",this.bind(function(i){tt(t);this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(i)}));s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()}));t.on("focus",this.bind(function(n){r(n)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data"),r,u;if(i){if(r=n.Event("select2-clearing"),this.opts.element.trigger(r),r.isDefaultPrevented())return;u=this.getPlaceholderOption();this.opts.element.val(u?u.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){var n;this.isPlaceholderOptionSelected()?(this.updateSelection(null),this.close(),this.setPlaceholder()):(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.setPlaceholder(),n.nextSearchTerm=n.opts.nextSearchTerm(i,n.search.val()))}))},isPlaceholderOptionSelected:function(){var n;return this.getPlaceholder()===t?!1:(n=this.getPlaceholderOption())!==t&&n.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=n.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=i.val(),u=null;t.query({matcher:function(n,i,r){var o=f(e,t.id(r));return o&&(u=r),o},callback:n.isFunction(r)?function(){r(u)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var n=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&n!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(n,t,i){var r=0,e=this,u;this.findHighlightableChoices().each2(function(n,t){if(f(e.id(t.data("select2-data")),e.opts.element.val()))return r=n,!1});i!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));t===!0&&(u=this.opts.minimumResultsForSearch,u>=0&&this.showSearch(ht(n.results)>=u))},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(n,t){if(this.triggerSelect(n)){var i=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(n));this.updateSelection(n);this.opts.element.trigger({type:"select2-selected",val:this.id(n),choice:n});this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val());this.close();t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus();f(i,this.id(n))||this.triggerChange({added:n,removed:r})}},updateSelection:function(n){var i=this.selection.find(".select2-chosen"),r,u;this.selection.data("select2-data",n);i.empty();n!==null&&(r=this.opts.formatSelection(n,i,this.opts.escapeMarkup));r!==t&&i.append(r);u=this.opts.formatSelectionCssClass(n,i);u!==t&&i.addClass(u);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var i,r=!1,u=null,n=this,f=this.data();if(arguments.length===0)return this.opts.element.val();if(i=arguments[0],arguments.length>1&&(r=arguments[1]),this.select)this.select.val(i).find("option").filter(function(){return this.selected}).each2(function(t,i){return u=n.optionToData(i),!1}),this.updateSelection(u),this.setPlaceholder(),r&&this.triggerChange({added:u,removed:f});else{if(!i&&i!==0){this.clear(r);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(i);this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):"");n.updateSelection(t);n.setPlaceholder();r&&n.triggerChange({added:t,removed:f})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(n){var i,r=!1;if(arguments.length===0)return i=this.selection.data("select2-data"),i==t&&(i=null),i;arguments.length>1&&(r=arguments[1]);n?(i=this.data(),this.opts.element.val(n?this.id(n):""),this.updateSelection(n),r&&this.triggerChange({added:n,removed:i})):this.clear(r)}});nt=d(l,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'><\/label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=[];n.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(n,t){r.push(i.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=w(i.val(),t.separator),u=[];t.query({matcher:function(i,r,o){var s=n.grep(e,function(n){return f(n,t.id(o))}).length;return s&&u.push(o),s},callback:n.isFunction(r)?function(){for(var h,n,o,s=[],i=0;i<e.length;i++)for(h=e[i],n=0;n<u.length;n++)if(o=u[n],f(h,t.id(o))){s.push(o);u.splice(n,1);break}r(s)}:n.noop})}),t},selectChoice:function(n){var t=this.container.find(".select2-search-choice-focus");t.length&&n&&n[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),n&&n.length&&(this.close(),n.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",n)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);k.call(this,"searchContainer","selection")},initContainer:function(){var t=".select2-choices",u,f;this.searchContainer=this.container.find(".select2-search-field");this.selection=u=this.container.find(t);f=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){f.search[0].focus();f.selectChoice(n(this))});this.search.attr("id","s2id_autogen"+h());this.search.prev().text(n("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&this.search.val().length==0||this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(n){var t;if(this.isInterfaceEnabled()){++this.keydowns;var f=u.find(".select2-search-choice-focus"),o=f.prev(".select2-search-choice:not(.select2-locked)"),e=f.next(".select2-search-choice:not(.select2-locked)"),s=wt(this.search);if(f.length&&(n.which==i.LEFT||n.which==i.RIGHT||n.which==i.BACKSPACE||n.which==i.DELETE||n.which==i.ENTER)){t=f;n.which==i.LEFT&&o.length?t=o:n.which==i.RIGHT?t=e.length?e:null:n.which===i.BACKSPACE?this.unselect(f.first())&&(this.search.width(10),t=o.length?o:e):n.which==i.DELETE?this.unselect(f.first())&&(this.search.width(10),t=e.length?e:null):n.which==i.ENTER&&(t=null);this.selectChoice(t);r(n);t&&t.length||this.open();return}if((n.which!==i.BACKSPACE||this.keydowns!=1)&&n.which!=i.LEFT||s.offset!=0||s.length)this.selectChoice(null);else{this.selectChoice(u.find(".select2-search-choice:not(.select2-locked)").last());r(n);return}if(this.opened())switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.selectHighlighted({noFocus:!0});this.close();return;case i.ESC:this.cancel(n);r(n);return}if(n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.BACKSPACE&&n.which!==i.ESC){if(n.which===i.ENTER){if(this.opts.openOnEnter===!1)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open();(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)&&r(n);n.which===i.ENTER&&r(n)}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(n.Event("select2-blur"))}));this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}));this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var n;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());(this.select||this.opts.element.val()!=="")&&(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.clearSearch())}))},clearSearch:function(){var n=this.getPlaceholder(),i=this.getMaxSearchWidth();n!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(n).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.updateResults(!0);this.opts.shouldFocusInput(this)&&this.search.focus();this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],u=[],i=this;n(t).each(function(){e(i.id(this),r)<0&&(r.push(i.id(this)),u.push(this))});t=u;this.selection.find(".select2-search-choice").remove();n(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var n=this.search.val();n=this.opts.tokenizer.call(this,n,this.data(),this.bind(this.onSelect),this.opts);n!=null&&n!=t&&(this.search.val(n),n.length>0&&this.open())},onSelect:function(n,i){this.triggerSelect(n)&&n.text!==""&&(this.addSelectedChoice(n),this.opts.element.trigger({type:"selected",val:this.id(n),choice:n}),this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(n,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:n}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var o=!i.locked,h=n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),c=n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),u=o?h:c,l=this.id(i),s=this.getVal(),f,e;if(f=this.opts.formatSelection(i,u.find("div"),this.opts.escapeMarkup),f!=t&&u.find("div").replaceWith("<div>"+f+"<\/div>"),e=this.opts.formatSelectionCssClass(i,u.find("div")),e!=t&&u.addClass(e),o)u.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(n(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),r(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));u.data("select2-data",i);u.insertBefore(this.searchContainer);s.push(l);this.setVal(s)},unselect:function(t){var u=this.getVal(),i,f,r;if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data"),i){if(r=n.Event("select2-removing"),r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;while((f=e(this.id(i),u))>=0)u.splice(f,1),this.setVal(u),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(n,t,i){var s=this.getVal(),f=this.results.find(".select2-result"),h=this.results.find(".select2-result-with-children"),r=this;f.each2(function(n,t){var i=r.id(t.data("select2-data"));e(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))});h.each2(function(n,t){t.is(".select2-result-selectable")||t.find(".select2-result-selectable:not(.select2-selected)").length!==0||t.addClass("select2-selected")});this.highlight()==-1&&i!==!1&&r.highlight(0);!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(n&&(!n||n.more||this.results.find(".select2-no-results").length!==0)||o(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u(r.opts.formatNoMatches,r.opts.element,r.search.val())+"<\/li>"))},getMaxSearchWidth:function(){return this.selection.width()-it(this.search)},resizeSearch:function(){var i,u,t,f,n,r=it(this.search);i=kt(this.search)+10;u=this.search.offset().left;t=this.selection.width();f=this.selection.offset().left;n=t-(u-f)-r;n<i&&(n=t-r);n<40&&(n=t-r);n<=0&&(n=i);this.search.width(Math.floor(n))},getVal:function(){var n;return this.select?(n=this.select.val(),n===null?[]:n):(n=this.opts.element.val(),w(n,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],n(t).each(function(){e(this,i)<0&&i.push(this)}),this.opts.element.val(i.length===0?"":i.join(this.opts.separator)))},buildChangeDetails:function(n,t){for(var r,t=t.slice(0),n=n.slice(0),i=0;i<t.length;i++)for(r=0;r<n.length;r++)f(this.opts.id(t[i]),this.opts.id(n[r]))&&(t.splice(i,1),i>0&&i--,n.splice(r,1),r--);return{added:t,removed:n}},val:function(i,r){var f,u=this;if(arguments.length===0)return this.getVal();if(f=this.data(),f.length||(f=[]),!i&&i!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();r&&this.triggerChange({added:this.data(),removed:f});return}if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(f,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=n.map(t,u.id);u.setVal(i);u.updateSelection(t);u.clearSearch();r&&u.triggerChange(u.buildChangeDetails(f,u.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(n(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var f=this,r,u;if(arguments.length===0)return this.selection.children(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get();u=this.data();t||(t=[]);r=n.map(t,function(n){return f.opts.id(n)});this.setVal(r);this.updateSelection(t);this.clearSearch();i&&this.triggerChange(this.buildChangeDetails(u,this.data()))}});n.fn.select2=function(){var i=Array.prototype.slice.call(arguments,0),r,u,f,o,s,c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],a=["val","data"],h={search:"externalSearch"};return this.each(function(){if(i.length===0||typeof i[0]=="object")r=i.length===0?{}:n.extend({},i[0]),r.element=n(this),r.element.get(0).tagName.toLowerCase()==="select"?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),u=s?new window.Select2["class"].multi:new window.Select2["class"].single,u.init(r);else if(typeof i[0]=="string"){if(e(i[0],c)<0)throw"Unknown method: "+i[0];if(o=t,u=n(this).data("select2"),u===t)return;if(f=i[0],f==="container"?o=u.container:f==="dropdown"?o=u.dropdown:(h[f]&&(f=h[f]),o=u[f].apply(u,i.slice(1))),e(i[0],l)>=0||e(i[0],a)>=0&&i.length==1)return!1}else throw"Invalid arguments to select2 plugin: "+i;}),o===t?this:o};n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(n,t,i,r){var u=[];return ut(n.text,i.term,u,r),u.join("")},formatSelection:function(n,i,r){return n?r(n.text):t},sortResults:function(n){return n},formatResultCssClass:function(n){return n.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(n){return n==t?null:n.id},matcher:function(n,t){return c(""+t).toUpperCase().indexOf(c(""+n).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:dt,escapeMarkup:ft,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(n){return n},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(n){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t?n.opts.minimumResultsForSearch<0?!1:!0:!0}};n.fn.select2.locales=[];n.fn.select2.locales.en={formatMatches:function(n){return n===1?"One result is available, press enter to select it.":n+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(n,t){var i=t-n.length;return"Please enter "+i+" or more character"+(i==1?"":"s")},formatInputTooLong:function(n,t){var i=n.length-t;return"Please delete "+i+" character"+(i==1?"":"s")},formatSelectionTooBig:function(n){return"You can only select "+n+" item"+(n==1?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"}};n.extend(n.fn.select2.defaults,n.fn.select2.locales.en);n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:et,local:ot,tags:st},util:{debounce:b,markMatch:ut,escapeMarkup:ft,stripDiacritics:c},"class":{abstract:l,single:g,multi:nt}};n(window).scroll(b(100,function(){n(".select2-container.select2-dropdown-open").select2("close")}))}}(jQuery),function(n){function e(t,i){var s=t.data("jqae"),u,e,c;s||(s={});u=s.wrapperElement;u||(u=t.wrapInner("<div/>").find(">div"),u.css({margin:0,padding:0,border:0}));e=u.data("jqae");e||(e={});c=e.originalContent;c?u=e.originalContent.clone(!0).data("jqae",{originalContent:c}).replaceAll(u):u.data("jqae",{originalContent:u.clone(!0)});t.data("jqae",{wrapperElement:u,containerWidth:t.width(),containerHeight:t.height()});var l=t.height(),a=(parseInt(t.css("padding-top"),10)||0)+(parseInt(t.css("border-top-width"),10)||0)-(u.offset().top-t.offset().top),o=!1,v=u;i.selector&&(v=n(u.find(i.selector).get().reverse()));v.each(function(){var t=n(this),s=t.text(),e=!1;if(u.innerHeight()-t.innerHeight()>l+a)t.remove();else if(f(t),t.contents().length){for(o&&(r(t).get(0).nodeValue+=i.ellipsis,o=!1);u.innerHeight()>l+a;)if(e=h(t),e)if(f(t),t.contents().length)r(t).get(0).nodeValue+=i.ellipsis;else{o=!0;t.remove();break}else{o=!0;t.remove();break}i.setTitle=="onEllipsis"&&e||i.setTitle=="always"?t.attr("title",s):i.setTitle!="never"&&t.removeAttr("title")}})}function h(t){var u=r(t),i,f;return u.length?(i=u.get(0).nodeValue,f=i.lastIndexOf(" "),f>-1?(i=n.trim(i.substring(0,f)),u.get(0).nodeValue=i):u.get(0).nodeValue="",!0):!1}function r(n){var i,t;return n.contents().length?(t=n.contents(),i=t.eq(t.length-1),i.filter(o).length?i:r(i)):(n.append(""),t=n.contents(),t.eq(t.length-1))}function f(t){var u,i,r;if(t.contents().length){if(u=t.contents(),i=u.eq(u.length-1),i.filter(o).length)return r=i.get(0).nodeValue,r=n.trim(r),r==""?(i.remove(),!0):!1;while(f(i));return i.contents().length?!1:(i.remove(),!0)}return!1}function o(){return this.nodeType===3}function c(n,r){t[n]=r;i||(i=window.setInterval(function(){a()},200))}function l(n){t[n]&&(delete t[n],t.length||i&&(window.clearInterval(i),i=undefined))}function a(){if(!u){u=!0;for(var i in t)n(i).each(function(){var r,u;r=n(this);u=r.data("jqae");(u.containerWidth!=r.width()||u.containerHeight!=r.height())&&e(r,t[i])});u=!1}}var t={},i,u=!1,s={ellipsis:"...",setTitle:"never",live:!1};n.fn.ellipsis=function(t,i){var u,r;return u=n(this),typeof t!="string"&&(i=t,t=undefined),r=n.extend({},s,i),r.selector=t,u.each(function(){var t=n(this);e(t,r)}),r.live?c(u.selector,r):l(u.selector),this}}(jQuery);!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):t(n.angular)}(this,function(n){"use strict";var t=n.module("rzModule",[]).value("throttle",function(n,t,i){var r,u,o,s=Date.now||function(){return(new Date).getTime()},f=null,e=0,h;return i=i||{},h=function(){e=i.leading===!1?0:s();f=null;o=n.apply(r,u);r=u=null},function(){var c=s(),l;return e||i.leading!==!1||(e=c),l=t-(c-e),r=this,u=arguments,0>=l?(clearTimeout(f),f=null,e=c,o=n.apply(r,u),r=u=null):f||i.trailing===!1||(f=setTimeout(h,l)),o}}).factory("RzSlider",["$timeout","$document","$window","throttle",function(t,i,r,u){var f=function(n,t,i){this.scope=n;this.attributes=i;this.sliderElem=t;this.range=void 0!==i.rzSliderHigh&&void 0!==i.rzSliderModel;this.dragRange=this.range&&"true"===i.rzSliderDraggableRange;this.dragging={active:!1,value:0,difference:0,offset:0,lowDist:0,highDist:0};this.handleHalfWidth=0;this.alwaysShowBar=!!i.rzSliderAlwaysShowBar;this.maxLeft=0;this.precision=0;this.step=0;this.tracking="";this.minValue=0;this.maxValue=0;this.hideLimitLabels=!!i.rzSliderHideLimitLabels;this.presentOnly="true"===i.rzSliderPresentOnly;this.showTicks=i.rzSliderShowTicks||i.rzSliderShowTicksValue;this.showTicksValue=i.rzSliderShowTicksValue;this.disabled=this.scope.rzSliderDisabled;this.interval=null!==this.scope.rzSliderInterval?this.scope.rzSliderInterval:350;this.valueRange=0;this.initHasRun=!1;this.customTrFn=this.scope.rzSliderTranslate()||function(n){return String(n)};this.deRegFuncs=[];this.fullBar=null;this.selBar=null;this.minH=null;this.maxH=null;this.flrLab=null;this.ceilLab=null;this.minLab=null;this.maxLab=null;this.cmbLab=null;this.ticks=null;this.init()};return f.prototype={init:function(){var e,o,f,s=n.bind(this,this.calcViewDimensions),i=this;this.initElemHandles();this.addAccessibility();this.setDisabledState();this.calcViewDimensions();this.setMinAndMax();this.precision=void 0===this.scope.rzSliderPrecision?0:+this.scope.rzSliderPrecision;this.step=void 0===this.scope.rzSliderStep?1:+this.scope.rzSliderStep;t(function(){i.updateCeilLab();i.updateFloorLab();i.initHandles();i.bindEvents()});f=this.scope.$on("reCalcViewDimensions",s);this.deRegFuncs.push(f);n.element(r).on("resize",s);this.initHasRun=!0;e=u(function(){i.setMinAndMax();i.updateLowHandle(i.valueToOffset(i.scope.rzSliderModel));i.updateSelectionBar();i.updateTicksScale();i.range&&i.updateCmbLabel()},i.interval);o=u(function(){i.setMinAndMax();i.updateHighHandle(i.valueToOffset(i.scope.rzSliderHigh));i.updateSelectionBar();i.updateTicksScale();i.updateCmbLabel()},i.interval);this.scope.$on("rzSliderForceRender",function(){i.resetLabelsValue();e();i.range&&o();i.resetSlider()});f=this.scope.$watch("rzSliderModel",function(n,t){n!==t&&e()});this.deRegFuncs.push(f);f=this.scope.$watch("rzSliderHigh",function(n,t){n!==t&&o()});this.deRegFuncs.push(f);this.scope.$watch("rzSliderFloor",function(n,t){n!==t&&i.resetSlider()});this.deRegFuncs.push(f);f=this.scope.$watch("rzSliderCeil",function(n,t){n!==t&&i.resetSlider()});this.deRegFuncs.push(f);f=this.scope.$watch("rzSliderShowTicks",function(n,t){n!==t&&i.resetSlider()});this.deRegFuncs.push(f);f=this.scope.$watch("rzSliderShowTicksValue",function(n,t){n!==t&&i.resetSlider()});this.deRegFuncs.push(f);f=this.scope.$watch("rzSliderDisabled",function(n,t){n!==t&&(i.resetSlider(),i.disabled?i.unbindEvents():i.bindEvents())});this.deRegFuncs.push(f);this.scope.$on("$destroy",function(){i.unbindEvents();n.element(r).off("resize",s);i.deRegFuncs.map(function(n){n()})})},resetSlider:function(){this.setMinAndMax();this.updateCeilLab();this.updateFloorLab();this.setDisabledState();this.calcViewDimensions()},setDisabledState:function(){this.disabled=this.scope.rzSliderDisabled;this.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0;this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel));this.range&&this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh));this.updateSelectionBar();this.range&&this.updateCmbLabel();this.updateTicksScale()},translateFn:function(n,t,i){i=void 0===i?!0:i;var r=(i?this.customTrFn(n):n).toString(),u=!1;(void 0===t.rzsv||t.rzsv.length!==r.length||t.rzsv.length>0&&0===t.rzsw)&&(u=!0,t.rzsv=r);t.text(r);u&&this.getWidth(t)},setMinAndMax:function(){this.minValue=this.scope.rzSliderFloor?+this.scope.rzSliderFloor:this.scope.rzSliderFloor=0;this.maxValue=this.scope.rzSliderCeil?+this.scope.rzSliderCeil:this.scope.rzSliderCeil=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel;this.scope.rzSliderStep&&(this.step=+this.scope.rzSliderStep);this.valueRange=this.maxValue-this.minValue},initElemHandles:function(){n.forEach(this.sliderElem.children(),function(t,i){var r=n.element(t);switch(i){case 0:this.fullBar=r;break;case 1:this.selBar=r;break;case 2:this.minH=r;break;case 3:this.maxH=r;break;case 4:this.flrLab=r;break;case 5:this.ceilLab=r;break;case 6:this.minLab=r;break;case 7:this.maxLab=r;break;case 8:this.cmbLab=r;break;case 9:this.ticks=r}},this);this.selBar.rzsl=0;this.minH.rzsl=0;this.maxH.rzsl=0;this.flrLab.rzsl=0;this.ceilLab.rzsl=0;this.minLab.rzsl=0;this.maxLab.rzsl=0;this.cmbLab.rzsl=0;this.hideLimitLabels&&(this.flrLab.rzAlwaysHide=!0,this.ceilLab.rzAlwaysHide=!0,this.hideEl(this.flrLab),this.hideEl(this.ceilLab));this.showTicksValue&&(this.flrLab.rzAlwaysHide=!0,this.ceilLab.rzAlwaysHide=!0,this.minLab.rzAlwaysHide=!0,this.maxLab.rzAlwaysHide=!0,this.cmbLab.rzAlwaysHide=!0,this.hideEl(this.flrLab),this.hideEl(this.ceilLab),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.hideEl(this.cmbLab));this.range===!1&&(this.cmbLab.remove(),this.maxLab.remove(),this.maxH.rzAlwaysHide=!0,this.maxH[0].style.zIndex="-1000",this.hideEl(this.maxH));this.range===!1&&this.alwaysShowBar===!1&&(this.maxH.remove(),this.selBar.remove());this.dragRange&&(this.selBar.css("cursor","move"),this.selBar.addClass("rz-draggable"))},addAccessibility:function(){this.sliderElem.attr("role","slider")},calcViewDimensions:function(){var n=this.getWidth(this.minH);this.handleHalfWidth=n/2;this.barWidth=this.getWidth(this.fullBar);this.maxLeft=this.barWidth-n;this.getWidth(this.sliderElem);this.sliderElem.rzsl=this.sliderElem[0].getBoundingClientRect().left;this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){var i,r;if(this.showTicks&&this.step){for(var n="",u=Math.round((this.maxValue-this.minValue)/this.step)+1,t=0;u>t;t++)i=this.roundStep(this.minValue+t*this.step),r=this.isTickSelected(i)?"selected":"",n+='<li class="tick '+r+'">',this.showTicksValue&&(n+='<span class="tick-value">'+this.getDisplayValue(i)+"<\/span>"),n+="<\/li>";this.ticks.html(n)}},isTickSelected:function(n){return this.valueToOffset(n),!this.range&&this.alwaysShowBar&&n<=this.scope.rzSliderModel?!0:this.range&&n>=this.scope.rzSliderModel&&n<=this.scope.rzSliderHigh?!0:!1},updateCeilLab:function(){this.translateFn(this.scope.rzSliderCeil,this.ceilLab);this.setLeft(this.ceilLab,this.barWidth-this.ceilLab.rzsw);this.getWidth(this.ceilLab)},updateFloorLab:function(){this.translateFn(this.scope.rzSliderFloor,this.flrLab);this.getWidth(this.flrLab)},callOnStart:function(){if(this.scope.rzSliderOnStart){var n=this;t(function(){n.scope.rzSliderOnStart()})}},callOnChange:function(){if(this.scope.rzSliderOnChange){var n=this;t(function(){n.scope.rzSliderOnChange()})}},callOnEnd:function(){if(this.scope.rzSliderOnEnd){var n=this;t(function(){n.scope.rzSliderOnEnd()})}},updateHandles:function(n,t){return"rzSliderModel"===n?(this.updateLowHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void(this.range&&this.updateCmbLabel())):"rzSliderHigh"===n?(this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void(this.range&&this.updateCmbLabel())):(this.updateLowHandle(t),this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void this.updateCmbLabel())},updateLowHandle:function(n){this.setLeft(this.minH,n);this.translateFn(this.scope.rzSliderModel,this.minLab);this.setLeft(this.minLab,n-this.minLab.rzsw/2+this.handleHalfWidth);this.shFloorCeil()},updateHighHandle:function(n){this.setLeft(this.maxH,n);this.translateFn(this.scope.rzSliderHigh,this.maxLab);this.setLeft(this.maxLab,n-this.maxLab.rzsw/2+this.handleHalfWidth);this.shFloorCeil()},shFloorCeil:function(){var n=!1,t=!1;this.minLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+5?(n=!0,this.hideEl(this.flrLab)):(n=!1,this.showEl(this.flrLab));this.minLab.rzsl+this.minLab.rzsw>=this.ceilLab.rzsl-this.handleHalfWidth-10?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab));this.range&&(this.maxLab.rzsl+this.maxLab.rzsw>=this.ceilLab.rzsl-10?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),this.maxLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+this.handleHalfWidth?this.hideEl(this.flrLab):n||this.showEl(this.flrLab))},updateSelectionBar:function(){this.setWidth(this.selBar,Math.abs(this.maxH.rzsl-this.minH.rzsl)+this.handleHalfWidth);this.setLeft(this.selBar,this.range?this.minH.rzsl+this.handleHalfWidth:0)},updateCmbLabel:function(){var n,t;this.minLab.rzsl+this.minLab.rzsw+10>=this.maxLab.rzsl?(n=this.getDisplayValue(this.scope.rzSliderModel),t=this.getDisplayValue(this.scope.rzSliderHigh),this.translateFn(n+" - "+t,this.cmbLab,!1),this.setLeft(this.cmbLab,this.selBar.rzsl+this.selBar.rzsw/2-this.cmbLab.rzsw/2),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab))},getDisplayValue:function(n){return this.customTrFn?this.customTrFn(n):n},roundStep:function(n){var t=this.step,i=+((n-this.minValue)%t).toFixed(3),r=i>t/2?n+t-i:n-i;return r=r.toFixed(this.precision),+r},hideEl:function(n){return n.css({opacity:0})},showEl:function(n){return n.rzAlwaysHide?n:n.css({opacity:1})},setLeft:function(n,t){return n.rzsl=t,n.css({left:t+"px"}),t},getWidth:function(n){var t=n[0].getBoundingClientRect();return n.rzsw=t.right-t.left,n.rzsw},setWidth:function(n,t){return n.rzsw=t,n.css({width:t+"px"}),t},valueToOffset:function(n){return(n-this.minValue)*this.maxLeft/this.valueRange||0},offsetToValue:function(n){return n/this.maxLeft*this.valueRange+this.minValue},getEventX:function(n){return"clientX"in n?n.clientX:void 0===n.originalEvent?n.touches[0].clientX:n.originalEvent.touches[0].clientX},getNearestHandle:function(n){if(!this.range)return this.minH;var t=this.getEventX(n)-this.sliderElem.rzsl-this.handleHalfWidth;return Math.abs(t-this.minH.rzsl)<Math.abs(t-this.maxH.rzsl)?this.minH:this.maxH},bindEvents:function(){if(!this.presentOnly&&!this.disabled){var t,i,r;this.dragRange?(t="rzSliderDrag",i=this.onDragStart,r=this.onDragMove):(t="rzSliderModel",i=this.onStart,r=this.onMove);this.minH.on("mousedown",n.bind(this,this.onStart,this.minH,"rzSliderModel"));this.range&&this.maxH.on("mousedown",n.bind(this,this.onStart,this.maxH,"rzSliderHigh"));this.fullBar.on("mousedown",n.bind(this,this.onStart,null,null));this.fullBar.on("mousedown",n.bind(this,this.onMove,this.fullBar));this.selBar.on("mousedown",n.bind(this,i,null,t));this.selBar.on("mousedown",n.bind(this,r,this.selBar));this.ticks.on("mousedown",n.bind(this,this.onStart,null,null));this.ticks.on("mousedown",n.bind(this,this.onMove,this.ticks));this.minH.on("touchstart",n.bind(this,this.onStart,this.minH,"rzSliderModel"));this.range&&this.maxH.on("touchstart",n.bind(this,this.onStart,this.maxH,"rzSliderHigh"));this.fullBar.on("touchstart",n.bind(this,this.onStart,null,null));this.fullBar.on("touchstart",n.bind(this,this.onMove,this.fullBar));this.selBar.on("touchstart",n.bind(this,i,null,t));this.selBar.on("touchstart",n.bind(this,r,this.selBar));this.ticks.on("touchstart",n.bind(this,this.onStart,null,null));this.ticks.on("touchstart",n.bind(this,this.onMove,this.ticks))}},unbindEvents:function(){this.minH.off();this.maxH.off();this.fullBar.off();this.selBar.off();this.ticks.off()},onStart:function(t,r,u){var f,e,o=this.getEventNames(u);u.stopPropagation();u.preventDefault();""===this.tracking&&(this.calcViewDimensions(),t?this.tracking=r:(t=this.getNearestHandle(u),this.tracking=t===this.minH?"rzSliderModel":"rzSliderHigh"),t.addClass("rz-active"),f=n.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),e=n.bind(this,this.onEnd,f),i.on(o.moveEvent,f),i.one(o.endEvent,e),this.callOnStart())},onMove:function(n,t){var u,i,r,f=this.getEventX(t);if(u=this.sliderElem.rzsl,i=f-u-this.handleHalfWidth,0>=i){if(0===n.rzsl)return;r=this.minValue;i=0}else if(i>=this.maxLeft){if(n.rzsl===this.maxLeft)return;r=this.maxValue;i=this.maxLeft}else r=this.offsetToValue(i),r=this.roundStep(r),i=this.valueToOffset(r);this.positionTrackingHandle(r,i)},onDragStart:function(n,t,i){var r=this.getEventX(i)-this.sliderElem.rzsl-this.handleHalfWidth;this.dragging={active:!0,value:this.offsetToValue(r),difference:this.scope.rzSliderHigh-this.scope.rzSliderModel,offset:r,lowDist:r-this.minH.rzsl,highDist:this.maxH.rzsl-r};this.minH.addClass("rz-active");this.maxH.addClass("rz-active");this.onStart(n,t,i)},onDragMove:function(n,t){var u,f,i,r,e=this.getEventX(t)-this.sliderElem.rzsl-this.handleHalfWidth;if(e<=this.dragging.lowDist){if(n.rzsl===this.dragging.lowDist)return;i=this.minValue;u=0;r=this.dragging.difference;f=this.valueToOffset(r)}else if(e>=this.maxLeft-this.dragging.highDist){if(n.rzsl===this.dragging.highDist)return;r=this.maxValue;f=this.maxLeft;i=this.maxValue-this.dragging.difference;u=this.valueToOffset(i)}else i=this.offsetToValue(e-this.dragging.lowDist),i=this.roundStep(i),u=this.valueToOffset(i),r=i+this.dragging.difference,f=this.valueToOffset(r);this.positionTrackingBar(i,r,u,f)},positionTrackingBar:function(n,t,i,r){this.scope.rzSliderModel=n;this.scope.rzSliderHigh=t;this.updateHandles("rzSliderModel",i);this.updateHandles("rzSliderHigh",r);this.scope.$apply();this.callOnChange()},positionTrackingHandle:function(n,t){this.range&&("rzSliderModel"===this.tracking&&n>=this.scope.rzSliderHigh?(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsl),this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.scope.$apply(),this.callOnChange()):"rzSliderHigh"===this.tracking&&n<=this.scope.rzSliderModel&&(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsl),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.scope.$apply(),this.callOnChange()));this.scope[this.tracking]!==n&&(this.scope[this.tracking]=n,this.updateHandles(this.tracking,t),this.scope.$apply(),this.callOnChange())},onEnd:function(n,t){var r=this.getEventNames(t).moveEvent;this.minH.removeClass("rz-active");this.maxH.removeClass("rz-active");i.off(r,n);this.scope.$emit("slideEnded");this.tracking="";this.dragging.active=!1;this.callOnEnd()},getEventNames:function(n){var t={moveEvent:"",endEvent:""};return n.touches||void 0!==n.originalEvent&&n.originalEvent.touches?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t}},f}]).directive("rzslider",["RzSlider",function(n){return{restrict:"E",scope:{rzSliderFloor:"=?",rzSliderCeil:"=?",rzSliderStep:"@",rzSliderPrecision:"@",rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderDraggable:"@",rzSliderTranslate:"&",rzSliderHideLimitLabels:"=?",rzSliderAlwaysShowBar:"=?",rzSliderPresentOnly:"@",rzSliderOnStart:"&",rzSliderOnChange:"&",rzSliderOnEnd:"&",rzSliderShowTicks:"=?",rzSliderShowTicksValue:"=?",rzSliderDisabled:"=?",rzSliderInterval:"=?"},templateUrl:function(n,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,i,r){return new n(t,i,r)}}}]);return t.run(["$templateCache",function(n){n.put("rzSliderTpl.html",'<span class=rz-bar-wrapper><span class=rz-bar><\/span><\/span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection"><\/span><\/span> <span class=rz-pointer><\/span> <span class=rz-pointer><\/span> <span class="rz-bubble rz-limit"><\/span> <span class="rz-bubble rz-limit"><\/span> <span class=rz-bubble><\/span> <span class=rz-bubble><\/span> <span class=rz-bubble><\/span><ul class=rz-ticks><\/ul>')}]),t});angular.module("ui.bootstrap",["ui.bootstrap.typeahead","ui.bootstrap.position"]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(n,t,i,r,u,f,e,o,s,h,c,l){function g(){a.moveInProgress||(a.moveInProgress=!0,a.$digest());ht&&e.cancel(ht);ht=e(function(){a.matches.length&&vt();a.moveInProgress=!1},ni)}function vt(){a.position=k?c.offset(t):c.position(t);a.position.top+=t.prop("offsetHeight")}var y,nt,gt=[9,13,27,38,40],ni=200,b=n.$eval(i.typeaheadMinLength),ut,w,p,ot,kt,st,ht,ct,dt,lt,at,d;b||0===b||(b=1);var ft,tt,yt=n.$eval(i.typeaheadWaitMs)||0,pt=n.$eval(i.typeaheadEditable)!==!1,it=u(i.typeaheadLoading).assign||angular.noop,ti=u(i.typeaheadOnSelect),ii=angular.isDefined(i.typeaheadSelectOnBlur)?n.$eval(i.typeaheadSelectOnBlur):!1,rt=u(i.typeaheadNoResults).assign||angular.noop,wt=i.typeaheadInputFormatter?u(i.typeaheadInputFormatter):void 0,k=i.typeaheadAppendToBody?n.$eval(i.typeaheadAppendToBody):!1,et=i.typeaheadAppendToElementId||!1,ri=n.$eval(i.typeaheadFocusFirst)!==!1,ui=i.typeaheadSelectOnExact?n.$eval(i.typeaheadSelectOnExact):!1,bt=u(i.ngModel),fi=u(i.ngModel+"($$$p)"),ei=function(t,i){return angular.isFunction(bt(n))&&nt&&nt.$options&&nt.$options.getterSetter?fi(t,{$$$p:i}):bt.assign(t,i)},v=l.parse(i.uibTypeahead),a=n.$new(),oi=n.$on("$destroy",function(){a.$destroy()});a.$on("$destroy",oi);ut="typeahead-"+a.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":ut});w=angular.element("<div uib-typeahead-popup><\/div>");w.attr({id:ut,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(i.typeaheadTemplateUrl)&&w.attr("template-url",i.typeaheadTemplateUrl);angular.isDefined(i.typeaheadPopupTemplateUrl)&&w.attr("popup-template-url",i.typeaheadPopupTemplateUrl);p=function(){a.matches=[];a.activeIdx=-1;t.attr("aria-expanded",!1)};ot=function(n){return ut+"-option-"+n};a.$watch("activeIdx",function(n){0>n?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",ot(n))});kt=function(n,t){return a.matches.length>t&&n?n.toUpperCase()===a.matches[t].label.toUpperCase():!1};st=function(i){var r={$viewValue:i};it(n,!0);rt(n,!1);f.when(v.source(n,r)).then(function(u){var e=i===y.$viewValue,f;if(e&&ft)if(u&&u.length>0){for(a.activeIdx=ri?0:-1,rt(n,!1),a.matches.length=0,f=0;f<u.length;f++)r[v.itemName]=u[f],a.matches.push({id:ot(f),label:v.viewMapper(a,r),model:u[f]});a.query=i;vt();t.attr("aria-expanded",!0);ui&&1===a.matches.length&&kt(i,0)&&a.select(0)}else p(),rt(n,!0);e&&it(n,!1)},function(){p();it(n,!1);rt(n,!0)})};k&&(angular.element(s).bind("resize",g),o.find("body").bind("scroll",g));a.moveInProgress=!1;a.query=void 0;dt=function(n){ct=e(function(){st(n)},yt)};lt=function(){ct&&e.cancel(ct)};p();a.select=function(r){var u,o,f={};tt=!0;f[v.itemName]=o=a.matches[r].model;u=v.modelMapper(n,f);ei(n,u);y.$setValidity("editable",!0);y.$setValidity("parse",!0);ti(n,{$item:o,$model:u,$label:v.viewMapper(n,f)});p();a.$eval(i.typeaheadFocusOnSelect)!==!1&&e(function(){t[0].focus()},0,!1)};t.bind("keydown",function(n){if(0!==a.matches.length&&-1!==gt.indexOf(n.which)){if(-1===a.activeIdx&&(9===n.which||13===n.which))return p(),void a.$digest();n.preventDefault();40===n.which?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):38===n.which?(a.activeIdx=(a.activeIdx>0?a.activeIdx:a.matches.length)-1,a.$digest()):13===n.which||9===n.which?a.$apply(function(){a.select(a.activeIdx)}):27===n.which&&(n.stopPropagation(),p(),a.$digest())}});t.bind("blur",function(){ii&&a.matches.length&&-1!==a.activeIdx&&!tt&&(tt=!0,a.$apply(function(){a.select(a.activeIdx)}));ft=!1;tt=!1});at=function(n){t[0]!==n.target&&3!==n.which&&0!==a.matches.length&&(p(),h.$$phase||a.$digest())};o.bind("click",at);n.$on("$destroy",function(){o.unbind("click",at);(k||et)&&d.remove();k&&(angular.element(s).unbind("resize",g),o.find("body").unbind("scroll",g));w.remove()});d=r(w)(a);k?o.find("body").append(d):et!==!1?angular.element(o[0].getElementById(et)).append(d):t.after(d);this.init=function(t,i){y=t;nt=i;y.$parsers.unshift(function(t){return ft=!0,0===b||t&&t.length>=b?yt>0?(lt(),dt(t)):st(t):(it(n,!1),lt(),p()),pt?t:t?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)});y.$formatters.push(function(t){var r,u,i={};return pt||y.$setValidity("editable",!0),wt?(i.$model=t,wt(n,i)):(i[v.itemName]=t,r=v.viewMapper(n,i),i[v.itemName]=void 0,u=v.viewMapper(n,i),r!==u?r:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(n,t,i,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(n,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";n(e).then(function(n){t(n.trim())(r,function(n){u.replaceWith(n)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){function u(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(n){return/<.*>/g.test(n)}var r;return r=t.has("$sanitize"),function(t,e){return!r&&f(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(u(e),"gi"),"<strong>$&<\/strong>"):t,r||(t=n.trustAsHtml(t)),t}}]);angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(n,t,i,r){return r||i.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(n,t,i,r,u,f,e,o,s,h,c){var l=[9,13,27,38,40],a=200;return{require:["ngModel","^?ngModelOptions"],link:function(v,y,p,w){function ut(){b.moveInProgress||(b.moveInProgress=!0,b.$digest());yt&&r.cancel(yt);yt=r(function(){b.matches.length&&kt();b.moveInProgress=!1},a)}function kt(){b.position=it?o.offset(y):o.position(y);b.position.top+=y.prop("offsetHeight")}var st,nt,d,at,ii,vt,yt,pt,ri,wt,bt,rt;c||h.warn("typeahead is now deprecated. Use uib-typeahead instead.");var g=w[0],ht=w[1],tt=v.$eval(p.typeaheadMinLength);tt||0===tt||(tt=1);var ct,ft,dt=v.$eval(p.typeaheadWaitMs)||0,gt=v.$eval(p.typeaheadEditable)!==!1,et=t(p.typeaheadLoading).assign||angular.noop,ui=t(p.typeaheadOnSelect),fi=angular.isDefined(p.typeaheadSelectOnBlur)?v.$eval(p.typeaheadSelectOnBlur):!1,ot=t(p.typeaheadNoResults).assign||angular.noop,ni=p.typeaheadInputFormatter?t(p.typeaheadInputFormatter):void 0,it=p.typeaheadAppendToBody?v.$eval(p.typeaheadAppendToBody):!1,lt=p.typeaheadAppendToElementId||!1,ei=v.$eval(p.typeaheadFocusFirst)!==!1,oi=p.typeaheadSelectOnExact?v.$eval(p.typeaheadSelectOnExact):!1,ti=t(p.ngModel),si=t(p.ngModel+"($$$p)"),hi=function(n,t){return angular.isFunction(ti(v))&&ht&&ht.$options&&ht.$options.getterSetter?si(n,{$$$p:t}):ti.assign(n,t)},k=s.parse(p.typeahead),b=v.$new(),ci=v.$on("$destroy",function(){b.$destroy()});b.$on("$destroy",ci);st="typeahead-"+b.$id+"-"+Math.floor(1e4*Math.random());y.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":st});nt=angular.element("<div typeahead-popup><\/div>");nt.attr({id:st,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(p.typeaheadTemplateUrl)&&nt.attr("template-url",p.typeaheadTemplateUrl);angular.isDefined(p.typeaheadPopupTemplateUrl)&&nt.attr("popup-template-url",p.typeaheadPopupTemplateUrl);d=function(){b.matches=[];b.activeIdx=-1;y.attr("aria-expanded",!1)};at=function(n){return st+"-option-"+n};b.$watch("activeIdx",function(n){0>n?y.removeAttr("aria-activedescendant"):y.attr("aria-activedescendant",at(n))});ii=function(n,t){return b.matches.length>t&&n?n.toUpperCase()===b.matches[t].label.toUpperCase():!1};vt=function(n){var t={$viewValue:n};et(v,!0);ot(v,!1);i.when(k.source(v,t)).then(function(i){var u=n===g.$viewValue,r;if(u&&ct)if(i&&i.length>0){for(b.activeIdx=ei?0:-1,ot(v,!1),b.matches.length=0,r=0;r<i.length;r++)t[k.itemName]=i[r],b.matches.push({id:at(r),label:k.viewMapper(b,t),model:i[r]});b.query=n;kt();y.attr("aria-expanded",!0);oi&&1===b.matches.length&&ii(n,0)&&b.select(0)}else d(),ot(v,!0);u&&et(v,!1)},function(){d();et(v,!1);ot(v,!0)})};it&&(angular.element(f).bind("resize",ut),u.find("body").bind("scroll",ut));b.moveInProgress=!1;d();b.query=void 0;ri=function(n){pt=r(function(){vt(n)},dt)};wt=function(){pt&&r.cancel(pt)};g.$parsers.unshift(function(n){return ct=!0,0===tt||n&&n.length>=tt?dt>0?(wt(),ri(n)):vt(n):(et(v,!1),wt(),d()),gt?n:n?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)});g.$formatters.push(function(n){var i,r,t={};return gt||g.$setValidity("editable",!0),ni?(t.$model=n,ni(v,t)):(t[k.itemName]=n,i=k.viewMapper(v,t),t[k.itemName]=void 0,r=k.viewMapper(v,t),i!==r?i:n)});b.select=function(n){var t,u,i={};ft=!0;i[k.itemName]=u=b.matches[n].model;t=k.modelMapper(v,i);hi(v,t);g.$setValidity("editable",!0);g.$setValidity("parse",!0);ui(v,{$item:u,$model:t,$label:k.viewMapper(v,i)});d();b.$eval(p.typeaheadFocusOnSelect)!==!1&&r(function(){y[0].focus()},0,!1)};y.bind("keydown",function(n){if(0!==b.matches.length&&-1!==l.indexOf(n.which)){if(-1===b.activeIdx&&(9===n.which||13===n.which))return d(),void b.$digest();n.preventDefault();40===n.which?(b.activeIdx=(b.activeIdx+1)%b.matches.length,b.$digest()):38===n.which?(b.activeIdx=(b.activeIdx>0?b.activeIdx:b.matches.length)-1,b.$digest()):13===n.which||9===n.which?b.$apply(function(){b.select(b.activeIdx)}):27===n.which&&(n.stopPropagation(),d(),b.$digest())}});y.bind("blur",function(){fi&&b.matches.length&&-1!==b.activeIdx&&!ft&&(ft=!0,b.$apply(function(){b.select(b.activeIdx)}));ct=!1;ft=!1});bt=function(n){y[0]!==n.target&&3!==n.which&&0!==b.matches.length&&(d(),e.$$phase||b.$digest())};u.bind("click",bt);v.$on("$destroy",function(){u.unbind("click",bt);(it||lt)&&rt.remove();it&&(angular.element(f).unbind("resize",ut),u.find("body").unbind("scroll",ut));nt.remove()});rt=n(nt)(b);it?u.find("body").append(rt):lt!==!1?angular.element(u[0].getElementById(lt)).append(rt):y.after(rt)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(n,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(n,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(i,r,u){n||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead.");i.templateUrl=u.templateUrl;i.isOpen=function(){return i.matches.length>0};i.isActive=function(n){return i.active==n};i.selectActive=function(n){i.active=n};i.selectMatch=function(n){i.select({activeIdx:n})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(n,t,i,r,u){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,e,o){r||u.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var s=i(o.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";n(s).then(function(n){t(n.trim())(f,function(n){e.replaceWith(n)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(n,t,i,r){function f(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(n){return/<.*>/g.test(n)}var u;return u=t.has("$sanitize"),function(t,o){return r||i.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!u&&e(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(f(o),"gi"),"<strong>$&<\/strong>"):t,u||(t=n.trustAsHtml(t)),t}}]);angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return"static"===(i(n,"position")||"static")}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var u,h,c,f,a=i.split("-"),l=a[0],e=a[1]||"center",o,s;u=r?this.offset(n):this.position(n);h=t.prop("offsetWidth");c=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-h/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-c/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(l){case"right":f={top:s[e](),left:o[l]()};break;case"left":f={top:s[e](),left:u.left-h};break;case"bottom":f={top:s[l](),left:o[e]()};break;default:f={top:u.top-c,left:o[e]()}}return f}}}]);angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(n,t,i){t||n.warn("$position is now deprecated. Use $uibPosition instead.");angular.extend(this,i)}]);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.typeahead","ui.bootstrap.position"]);angular.module("ui.bootstrap.tpls",["template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(n,t,i,r,u,f,e,o,s,h,c,l){function g(){a.moveInProgress||(a.moveInProgress=!0,a.$digest());ht&&e.cancel(ht);ht=e(function(){a.matches.length&&vt();a.moveInProgress=!1},ni)}function vt(){a.position=k?c.offset(t):c.position(t);a.position.top+=t.prop("offsetHeight")}var y,nt,gt=[9,13,27,38,40],ni=200,b=n.$eval(i.typeaheadMinLength),ut,w,p,ot,kt,st,ht,ct,dt,lt,at,d;b||0===b||(b=1);var ft,tt,yt=n.$eval(i.typeaheadWaitMs)||0,pt=n.$eval(i.typeaheadEditable)!==!1,it=u(i.typeaheadLoading).assign||angular.noop,ti=u(i.typeaheadOnSelect),ii=angular.isDefined(i.typeaheadSelectOnBlur)?n.$eval(i.typeaheadSelectOnBlur):!1,rt=u(i.typeaheadNoResults).assign||angular.noop,wt=i.typeaheadInputFormatter?u(i.typeaheadInputFormatter):void 0,k=i.typeaheadAppendToBody?n.$eval(i.typeaheadAppendToBody):!1,et=i.typeaheadAppendToElementId||!1,ri=n.$eval(i.typeaheadFocusFirst)!==!1,ui=i.typeaheadSelectOnExact?n.$eval(i.typeaheadSelectOnExact):!1,bt=u(i.ngModel),fi=u(i.ngModel+"($$$p)"),ei=function(t,i){return angular.isFunction(bt(n))&&nt&&nt.$options&&nt.$options.getterSetter?fi(t,{$$$p:i}):bt.assign(t,i)},v=l.parse(i.uibTypeahead),a=n.$new(),oi=n.$on("$destroy",function(){a.$destroy()});a.$on("$destroy",oi);ut="typeahead-"+a.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":ut});w=angular.element("<div uib-typeahead-popup><\/div>");w.attr({id:ut,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(i.typeaheadTemplateUrl)&&w.attr("template-url",i.typeaheadTemplateUrl);angular.isDefined(i.typeaheadPopupTemplateUrl)&&w.attr("popup-template-url",i.typeaheadPopupTemplateUrl);p=function(){a.matches=[];a.activeIdx=-1;t.attr("aria-expanded",!1)};ot=function(n){return ut+"-option-"+n};a.$watch("activeIdx",function(n){0>n?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",ot(n))});kt=function(n,t){return a.matches.length>t&&n?n.toUpperCase()===a.matches[t].label.toUpperCase():!1};st=function(i){var r={$viewValue:i};it(n,!0);rt(n,!1);f.when(v.source(n,r)).then(function(u){var e=i===y.$viewValue,f;if(e&&ft)if(u&&u.length>0){for(a.activeIdx=ri?0:-1,rt(n,!1),a.matches.length=0,f=0;f<u.length;f++)r[v.itemName]=u[f],a.matches.push({id:ot(f),label:v.viewMapper(a,r),model:u[f]});a.query=i;vt();t.attr("aria-expanded",!0);ui&&1===a.matches.length&&kt(i,0)&&a.select(0)}else p(),rt(n,!0);e&&it(n,!1)},function(){p();it(n,!1);rt(n,!0)})};k&&(angular.element(s).bind("resize",g),o.find("body").bind("scroll",g));a.moveInProgress=!1;a.query=void 0;dt=function(n){ct=e(function(){st(n)},yt)};lt=function(){ct&&e.cancel(ct)};p();a.select=function(r){var u,o,f={};tt=!0;f[v.itemName]=o=a.matches[r].model;u=v.modelMapper(n,f);ei(n,u);y.$setValidity("editable",!0);y.$setValidity("parse",!0);ti(n,{$item:o,$model:u,$label:v.viewMapper(n,f)});p();a.$eval(i.typeaheadFocusOnSelect)!==!1&&e(function(){t[0].focus()},0,!1)};t.bind("keydown",function(n){if(0!==a.matches.length&&-1!==gt.indexOf(n.which)){if(-1===a.activeIdx&&(9===n.which||13===n.which))return p(),void a.$digest();n.preventDefault();40===n.which?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):38===n.which?(a.activeIdx=(a.activeIdx>0?a.activeIdx:a.matches.length)-1,a.$digest()):13===n.which||9===n.which?a.$apply(function(){a.select(a.activeIdx)}):27===n.which&&(n.stopPropagation(),p(),a.$digest())}});t.bind("blur",function(){ii&&a.matches.length&&-1!==a.activeIdx&&!tt&&(tt=!0,a.$apply(function(){a.select(a.activeIdx)}));ft=!1;tt=!1});at=function(n){t[0]!==n.target&&3!==n.which&&0!==a.matches.length&&(p(),h.$$phase||a.$digest())};o.bind("click",at);n.$on("$destroy",function(){o.unbind("click",at);(k||et)&&d.remove();k&&(angular.element(s).unbind("resize",g),o.find("body").unbind("scroll",g));w.remove()});d=r(w)(a);k?o.find("body").append(d):et!==!1?angular.element(o[0].getElementById(et)).append(d):t.after(d);this.init=function(t,i){y=t;nt=i;y.$parsers.unshift(function(t){return ft=!0,0===b||t&&t.length>=b?yt>0?(lt(),dt(t)):st(t):(it(n,!1),lt(),p()),pt?t:t?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)});y.$formatters.push(function(t){var r,u,i={};return pt||y.$setValidity("editable",!0),wt?(i.$model=t,wt(n,i)):(i[v.itemName]=t,r=v.viewMapper(n,i),i[v.itemName]=void 0,u=v.viewMapper(n,i),r!==u?r:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(n,t,i,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(n,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";n(e).then(function(n){t(n.trim())(r,function(n){u.replaceWith(n)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){function u(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(n){return/<.*>/g.test(n)}var r;return r=t.has("$sanitize"),function(t,e){return!r&&f(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(u(e),"gi"),"<strong>$&<\/strong>"):t,r||(t=n.trustAsHtml(t)),t}}]);angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(n,t,i,r){return r||i.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(n,t,i,r,u,f,e,o,s,h,c){var l=[9,13,27,38,40],a=200;return{require:["ngModel","^?ngModelOptions"],link:function(v,y,p,w){function ut(){b.moveInProgress||(b.moveInProgress=!0,b.$digest());yt&&r.cancel(yt);yt=r(function(){b.matches.length&&kt();b.moveInProgress=!1},a)}function kt(){b.position=it?o.offset(y):o.position(y);b.position.top+=y.prop("offsetHeight")}var st,nt,d,at,ii,vt,yt,pt,ri,wt,bt,rt;c||h.warn("typeahead is now deprecated. Use uib-typeahead instead.");var g=w[0],ht=w[1],tt=v.$eval(p.typeaheadMinLength);tt||0===tt||(tt=1);var ct,ft,dt=v.$eval(p.typeaheadWaitMs)||0,gt=v.$eval(p.typeaheadEditable)!==!1,et=t(p.typeaheadLoading).assign||angular.noop,ui=t(p.typeaheadOnSelect),fi=angular.isDefined(p.typeaheadSelectOnBlur)?v.$eval(p.typeaheadSelectOnBlur):!1,ot=t(p.typeaheadNoResults).assign||angular.noop,ni=p.typeaheadInputFormatter?t(p.typeaheadInputFormatter):void 0,it=p.typeaheadAppendToBody?v.$eval(p.typeaheadAppendToBody):!1,lt=p.typeaheadAppendToElementId||!1,ei=v.$eval(p.typeaheadFocusFirst)!==!1,oi=p.typeaheadSelectOnExact?v.$eval(p.typeaheadSelectOnExact):!1,ti=t(p.ngModel),si=t(p.ngModel+"($$$p)"),hi=function(n,t){return angular.isFunction(ti(v))&&ht&&ht.$options&&ht.$options.getterSetter?si(n,{$$$p:t}):ti.assign(n,t)},k=s.parse(p.typeahead),b=v.$new(),ci=v.$on("$destroy",function(){b.$destroy()});b.$on("$destroy",ci);st="typeahead-"+b.$id+"-"+Math.floor(1e4*Math.random());y.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":st});nt=angular.element("<div typeahead-popup><\/div>");nt.attr({id:st,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(p.typeaheadTemplateUrl)&&nt.attr("template-url",p.typeaheadTemplateUrl);angular.isDefined(p.typeaheadPopupTemplateUrl)&&nt.attr("popup-template-url",p.typeaheadPopupTemplateUrl);d=function(){b.matches=[];b.activeIdx=-1;y.attr("aria-expanded",!1)};at=function(n){return st+"-option-"+n};b.$watch("activeIdx",function(n){0>n?y.removeAttr("aria-activedescendant"):y.attr("aria-activedescendant",at(n))});ii=function(n,t){return b.matches.length>t&&n?n.toUpperCase()===b.matches[t].label.toUpperCase():!1};vt=function(n){var t={$viewValue:n};et(v,!0);ot(v,!1);i.when(k.source(v,t)).then(function(i){var u=n===g.$viewValue,r;if(u&&ct)if(i&&i.length>0){for(b.activeIdx=ei?0:-1,ot(v,!1),b.matches.length=0,r=0;r<i.length;r++)t[k.itemName]=i[r],b.matches.push({id:at(r),label:k.viewMapper(b,t),model:i[r]});b.query=n;kt();y.attr("aria-expanded",!0);oi&&1===b.matches.length&&ii(n,0)&&b.select(0)}else d(),ot(v,!0);u&&et(v,!1)},function(){d();et(v,!1);ot(v,!0)})};it&&(angular.element(f).bind("resize",ut),u.find("body").bind("scroll",ut));b.moveInProgress=!1;d();b.query=void 0;ri=function(n){pt=r(function(){vt(n)},dt)};wt=function(){pt&&r.cancel(pt)};g.$parsers.unshift(function(n){return ct=!0,0===tt||n&&n.length>=tt?dt>0?(wt(),ri(n)):vt(n):(et(v,!1),wt(),d()),gt?n:n?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)});g.$formatters.push(function(n){var i,r,t={};return gt||g.$setValidity("editable",!0),ni?(t.$model=n,ni(v,t)):(t[k.itemName]=n,i=k.viewMapper(v,t),t[k.itemName]=void 0,r=k.viewMapper(v,t),i!==r?i:n)});b.select=function(n){var t,u,i={};ft=!0;i[k.itemName]=u=b.matches[n].model;t=k.modelMapper(v,i);hi(v,t);g.$setValidity("editable",!0);g.$setValidity("parse",!0);ui(v,{$item:u,$model:t,$label:k.viewMapper(v,i)});d();b.$eval(p.typeaheadFocusOnSelect)!==!1&&r(function(){y[0].focus()},0,!1)};y.bind("keydown",function(n){if(0!==b.matches.length&&-1!==l.indexOf(n.which)){if(-1===b.activeIdx&&(9===n.which||13===n.which))return d(),void b.$digest();n.preventDefault();40===n.which?(b.activeIdx=(b.activeIdx+1)%b.matches.length,b.$digest()):38===n.which?(b.activeIdx=(b.activeIdx>0?b.activeIdx:b.matches.length)-1,b.$digest()):13===n.which||9===n.which?b.$apply(function(){b.select(b.activeIdx)}):27===n.which&&(n.stopPropagation(),d(),b.$digest())}});y.bind("blur",function(){fi&&b.matches.length&&-1!==b.activeIdx&&!ft&&(ft=!0,b.$apply(function(){b.select(b.activeIdx)}));ct=!1;ft=!1});bt=function(n){y[0]!==n.target&&3!==n.which&&0!==b.matches.length&&(d(),e.$$phase||b.$digest())};u.bind("click",bt);v.$on("$destroy",function(){u.unbind("click",bt);(it||lt)&&rt.remove();it&&(angular.element(f).unbind("resize",ut),u.find("body").unbind("scroll",ut));nt.remove()});rt=n(nt)(b);it?u.find("body").append(rt):lt!==!1?angular.element(u[0].getElementById(lt)).append(rt):y.after(rt)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(n,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(n,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(i,r,u){n||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead.");i.templateUrl=u.templateUrl;i.isOpen=function(){return i.matches.length>0};i.isActive=function(n){return i.active==n};i.selectActive=function(n){i.active=n};i.selectMatch=function(n){i.select({activeIdx:n})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(n,t,i,r,u){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,e,o){r||u.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var s=i(o.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";n(s).then(function(n){t(n.trim())(f,function(n){e.replaceWith(n)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(n,t,i,r){function f(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(n){return/<.*>/g.test(n)}var u;return u=t.has("$sanitize"),function(t,o){return r||i.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!u&&e(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(f(o),"gi"),"<strong>$&<\/strong>"):t,u||(t=n.trustAsHtml(t)),t}}]);angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return"static"===(i(n,"position")||"static")}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var u,h,c,f,a=i.split("-"),l=a[0],e=a[1]||"center",o,s;u=r?this.offset(n):this.position(n);h=t.prop("offsetWidth");c=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-h/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-c/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(l){case"right":f={top:s[e](),left:o[l]()};break;case"left":f={top:s[e](),left:u.left-h};break;case"bottom":f={top:s[l](),left:o[e]()};break;default:f={top:u.top-c,left:o[e]()}}return f}}}]);angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(n,t,i){t||n.warn("$position is now deprecated. Use $uibPosition instead.");angular.extend(this,i)}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"><\/a>\n')}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"><\/div>\n    <\/li>\n<\/ul>\n')}]),function(n,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports=t():n.X2JS=t()}(this,function(){return function(n){function b(){n.escapeMode===undefined&&(n.escapeMode=!0);n.attributePrefix=n.attributePrefix||"_";n.arrayAccessForm=n.arrayAccessForm||"none";n.emptyNodeForm=n.emptyNodeForm||"text";n.enableToStringFunc===undefined&&(n.enableToStringFunc=!0);n.arrayAccessFormPaths=n.arrayAccessFormPaths||[];n.skipEmptyTextNodesForObj===undefined&&(n.skipEmptyTextNodesForObj=!0);n.stripWhitespaces===undefined&&(n.stripWhitespaces=!0);n.datetimeAccessFormPaths=n.datetimeAccessFormPaths||[];n.useDoubleQuotes===undefined&&(n.useDoubleQuotes=!1);n.xmlElementsFilter=n.xmlElementsFilter||[];n.jsonPropertiesFilter=n.jsonPropertiesFilter||[];n.keepCData===undefined&&(n.keepCData=!1)}function k(){}function h(n){var t=n.localName;return t==null&&(t=n.baseName),(t==null||t=="")&&(t=n.nodeName),t}function d(n){return n.prefix}function e(n){return typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):n}function r(n,t,i,r){for(var f=0,u;f<n.length;f++)if(u=n[f],typeof u=="string"){if(u==r)break}else if(u instanceof RegExp){if(u.test(r))break}else if(typeof u=="function"&&u(t,i,r))break;return f!=n.length}function c(t,i,u){switch(n.arrayAccessForm){case"property":t[i+"_asArray"]=t[i]instanceof Array?t[i]:[t[i]]}!(t[i]instanceof Array)&&n.arrayAccessFormPaths.length>0&&r(n.arrayAccessFormPaths,t,i,u)&&(t[i]=[t[i]])}function l(n){var i=n.split(/[-T:+Z]/g),t=new Date(i[0],i[1]-1,i[2]),u=i[5].split("."),r,f;return t.setHours(i[3],i[4],u[0]),u.length>1&&t.setMilliseconds(u[1]),i[6]&&i[7]?(r=i[6]*60+Number(i[7]),f=/\d\d-\d\d:\d\d$/.test(n)?"-":"+",r=0+(f=="-"?-1*r:r),t.setMinutes(t.getMinutes()-r-t.getTimezoneOffset())):n.indexOf("Z",n.length-1)!==-1&&(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),t}function g(t,i,u){if(n.datetimeAccessFormPaths.length>0){var f=u.split(".#")[0];return r(n.datetimeAccessFormPaths,t,i,f)?l(t):t}return t}function nt(i,u,f,e){return u==t.ELEMENT_NODE&&n.xmlElementsFilter.length>0?r(n.xmlElementsFilter,i,f,e):!0}function u(i,r){var f,l,s,o,e,a,v,p,y;if(i.nodeType==t.DOCUMENT_NODE){for(f={},l=i.childNodes,s=0;s<l.length;s++)o=l.item(s),o.nodeType==t.ELEMENT_NODE&&(e=h(o),f[e]=u(o,e));return f}if(i.nodeType==t.ELEMENT_NODE){for(f={},f.__cnt=0,l=i.childNodes,s=0;s<l.length;s++)o=l.item(s),e=h(o),o.nodeType!=t.COMMENT_NODE&&(a=r+"."+e,nt(f,o.nodeType,e,a)&&(f.__cnt++,f[e]==null?(f[e]=u(o,a),c(f,e,a)):(f[e]!=null&&(f[e]instanceof Array||(f[e]=[f[e]],c(f,e,a))),f[e][f[e].length]=u(o,a))));for(v=0;v<i.attributes.length;v++)p=i.attributes.item(v),f.__cnt++,f[n.attributePrefix+p.name]=p.value;return y=d(i),y!=null&&y!=""&&(f.__cnt++,f.__prefix=y),f["#text"]!=null&&(f.__text=f["#text"],f.__text instanceof Array&&(f.__text=f.__text.join("\n")),n.stripWhitespaces&&(f.__text=f.__text.trim()),delete f["#text"],n.arrayAccessForm=="property"&&delete f["#text_asArray"],f.__text=g(f.__text,e,r+"."+e)),f["#cdata-section"]!=null&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],n.arrayAccessForm=="property"&&delete f["#cdata-section_asArray"]),f.__cnt==0&&n.emptyNodeForm=="text"?f="":f.__cnt==1&&f.__text!=null?f=f.__text:f.__cnt!=1||f.__cdata==null||n.keepCData?f.__cnt>1&&f.__text!=null&&n.skipEmptyTextNodesForObj&&(n.stripWhitespaces&&f.__text==""||f.__text.trim()=="")&&delete f.__text:f=f.__cdata,delete f.__cnt,n.enableToStringFunc&&(f.__text!=null||f.__cdata!=null)&&(f.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),f}if(i.nodeType==t.TEXT_NODE||i.nodeType==t.CDATA_SECTION_NODE)return i.nodeValue}function i(t,i,r,u){var s="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+i,o,h,f;if(r!=null)for(o=0;o<r.length;o++)h=r[o],f=t[h],n.escapeMode&&(f=e(f)),s+=" "+h.substr(n.attributePrefix.length)+"=",s+=n.useDoubleQuotes?'"'+f+'"':"'"+f+"'";return s+(u?"/>":">")}function f(n,t){return"<\/"+(n.__prefix!=null?n.__prefix+":":"")+t+">"}function tt(n,t){return n.indexOf(t,n.length-t.length)!==-1}function a(t,i){return n.arrayAccessForm=="property"&&tt(i.toString(),"_asArray")||i.toString().indexOf(n.attributePrefix)==0||i.toString().indexOf("__")==0||t[i]instanceof Function?!0:!1}function v(n){var t=0,i;if(n instanceof Object)for(i in n)a(n,i)||t++;return t}function it(t,i,u){return n.jsonPropertiesFilter.length==0||u==""||r(n.jsonPropertiesFilter,t,i,u)}function y(t){var r=[],i;if(t instanceof Object)for(i in t)i.toString().indexOf("__")==-1&&i.toString().indexOf(n.attributePrefix)==0&&r.push(i);return r}function rt(t){var i="";return t.__cdata!=null&&(i+="<![CDATA["+t.__cdata+"]\]>"),t.__text!=null&&(i+=n.escapeMode?e(t.__text):t.__text),i}function p(t){var i="";return t instanceof Object?i+=rt(t):t!=null&&(i+=n.escapeMode?e(t):t),i}function o(n,t){return n===""?t:n+"."+t}function ut(n,t,r,u){var h="",e;if(n.length==0)h+=i(n,t,r,!0);else for(e=0;e<n.length;e++)h+=i(n[e],t,y(n[e]),!1),h+=s(n[e],o(u,t)),h+=f(n[e],t);return h}function s(n,t){var e="",l=v(n),u,r,h,c;if(l>0)for(u in n)!a(n,u)&&(t==""||it(n,u,o(t,u)))&&(r=n[u],h=y(r),r==null||r==undefined?e+=i(r,u,h,!0):r instanceof Object?r instanceof Array?e+=ut(r,u,h,t):r instanceof Date?(e+=i(r,u,h,!1),e+=r.toISOString(),e+=f(r,u)):(c=v(r),c>0||r.__text!=null||r.__cdata!=null?(e+=i(r,u,h,!1),e+=s(r,o(t,u)),e+=f(r,u)):e+=i(r,u,h,!0)):(e+=i(r,u,h,!1),e+=p(r),e+=f(r,u)));return e+p(n)}var w="1.2.0",t;n=n||{};b();k();t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){var u=window.ActiveXObject||"ActiveXObject"in window,t,r,i;if(n===undefined)return null;if(window.DOMParser){if(r=new window.DOMParser,i=null,!u)try{i=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(f){i=null}try{t=r.parseFromString(n,"text/xml");i!=null&&t.getElementsByTagNameNS(i,"parsererror").length>0&&(t=null)}catch(f){t=null}}else n.indexOf("<?")==0&&(n=n.substr(n.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n);return t};this.asArray=function(n){return n===undefined||n==null?[]:n instanceof Array?n:[n]};this.toXmlDateTime=function(n){return n instanceof Date?n.toISOString():typeof n=="number"?new Date(n).toISOString():null};this.asDateTime=function(n){return typeof n=="string"?l(n):n};this.xml2json=function(n){return u(n)};this.xml_str2json=function(n){var t=this.parseXmlString(n);return t!=null?this.xml2json(t):null};this.json2xml_str=function(n){return s(n,"")};this.json2xml=function(n){var t=this.json2xml_str(n);return this.parseXmlString(t)};this.getVersion=function(){return w}}});!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.Clipboard=n()}}(function(){var n;return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){var i=n("matches-selector");t.exports=function(n,t,r){for(var u=r?n:n.parentNode;u&&u!==document;){if(i(u,t))return u;u=u.parentNode}}},{"matches-selector":5}],2:[function(n,t){function i(n,t,i,u,f){var e=r.apply(this,arguments);return n.addEventListener(i,e,f),{destroy:function(){n.removeEventListener(i,e,f)}}}function r(n,t,i,r){return function(i){i.delegateTarget=u(i.target,t,!0);i.delegateTarget&&r.call(n,i)}}var u=n("closest");t.exports=i},{closest:1}],3:[function(n,t,i){i.node=function(n){return void 0!==n&&n instanceof HTMLElement&&1===n.nodeType};i.nodeList=function(n){var t=Object.prototype.toString.call(n);return void 0!==n&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in n&&(0===n.length||i.node(n[0]))};i.string=function(n){return"string"==typeof n||n instanceof String};i.fn=function(n){var t=Object.prototype.toString.call(n);return"[object Function]"===t}},{}],4:[function(n,t){function r(n,t,r){if(!n&&!t&&!r)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(r))throw new TypeError("Third argument must be a Function");if(i.node(n))return u(n,t,r);if(i.nodeList(n))return f(n,t,r);if(i.string(n))return e(n,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function u(n,t,i){return n.addEventListener(t,i),{destroy:function(){n.removeEventListener(t,i)}}}function f(n,t,i){return Array.prototype.forEach.call(n,function(n){n.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(n,function(n){n.removeEventListener(t,i)})}}}function e(n,t,i){return o(document.body,n,t,i)}var i=n("./is"),o=n("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(n,t){function u(n,t){if(r)return r.call(n,t);for(var u=n.parentNode.querySelectorAll(t),i=0;i<u.length;++i)if(u[i]==n)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=u},{}],6:[function(n,t){function i(n){var i,t,r;return"INPUT"===n.nodeName||"TEXTAREA"===n.nodeName?(n.focus(),n.setSelectionRange(0,n.value.length),i=n.value):(n.hasAttribute("contenteditable")&&n.focus(),t=window.getSelection(),r=document.createRange(),r.selectNodeContents(n),t.removeAllRanges(),t.addRange(r),i=t.toString()),i}t.exports=i},{}],7:[function(n,t){function i(){}i.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r);t.apply(i,arguments)}var u=this;return r._=t,this.on(n,r,i)},emit:function(n){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,u=i.length;for(t;u>t;t++)i[t].fn.apply(i[t].ctx,r);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;e>i;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}};t.exports=i},{}],8:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","select"],f);else if("undefined"!=typeof r)f(i,t("select"));else{var e={exports:{}};f(e,u.select);u.clipboardAction=e.exports}}(this,function(n,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=r(t),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(){function n(t){u(this,n);this.resolveOptions(t);this.initSelection()}return n.prototype.resolveOptions=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=n.action;this.emitter=n.emitter;this.target=n.target;this.text=n.text;this.trigger=n.trigger;this.selectedText=""},n.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},n.prototype.selectFake=function(){var n=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return n.removeFake()};this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[t?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=i.default(this.fakeElem);this.copyText()},n.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},n.prototype.selectTarget=function(){this.selectedText=i.default(this.target);this.copyText()},n.prototype.copyText=function(){var n=void 0;try{n=document.execCommand(this.action)}catch(t){n=!1}this.handleResult(n)},n.prototype.handleResult=function(n){n?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},n.prototype.clearSelection=function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()},n.prototype.destroy=function(){this.removeFake()},e(n,[{key:"action",set:function(){var n=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=n,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(n){if(void 0!==n){if(!n||"object"!==("undefined"==typeof n?"undefined":f(n))||1!==n.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=n}},get:function(){return this._target}}]),n}();n.exports=o})},{select:6}],9:[function(t,i,r){!function(u,f){if("function"==typeof n&&n.amd)n(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if("undefined"!=typeof r)f(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var e={exports:{}};f(e,u.clipboardAction,u.tinyEmitter,u.goodListener);u.clipboard=e.exports}}(this,function(n,t,i,r){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function f(n,t){var i="data-clipboard-"+n;if(t.hasAttribute(i))return t.getAttribute(i)}var h=u(t),c=u(i),l=u(r),a=function(n){function t(i,r){e(this,t);var u=o(this,n.call(this));return u.resolveOptions(r),u.listenClick(i),u}return s(t,n),t.prototype.resolveOptions=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof n.action?n.action:this.defaultAction;this.target="function"==typeof n.target?n.target:this.defaultTarget;this.text="function"==typeof n.text?n.text:this.defaultText},t.prototype.listenClick=function(n){var t=this;this.listener=l.default(n,"click",function(n){return t.onClick(n)})},t.prototype.onClick=function(n){var t=n.delegateTarget||n.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new h.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(n){return f("action",n)},t.prototype.defaultTarget=function(n){var t=f("target",n);if(t)return document.querySelector(t)},t.prototype.defaultText=function(n){return f("text",n)},t.prototype.destroy=function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(c.default);n.exports=a})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});!function(){"use strict";var n,t,i="ngclipboard";"object"==typeof module&&module.exports?(n=require("angular"),t=require("clipboard"),module.exports=i):(n=window.angular,t=window.Clipboard);n.module(i,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(n,i){var r=new t(i[0]);r.on("success",function(t){n.$apply(function(){n.ngclipboardSuccess({e:t})})});r.on("error",function(t){n.$apply(function(){n.ngclipboardError({e:t})})})}}})}();!function(n){"use strict";function t(n){if("undefined"==typeof n.length)r(n,"click",i);else if("string"!=typeof n&&!(n instanceof String))for(var t=0;t<n.length;t++)r(n[t],"click",i)}function i(n){var i,r,f,e;return n=n||window.event,i=n.currentTarget||n.srcElement,f=i.getAttribute("href"),f&&(e=n.ctrlKey||n.shiftKey||n.metaKey,r=i.getAttribute("target"),e||r&&!u(r))?(t.open(f),n.preventDefault?n.preventDefault():n.returnValue=!1,!1):void 0}function r(n,t,i){var r,u;return n.addEventListener?n.addEventListener(t,i,!1):(r="on"+t,n.attachEvent?n.attachEvent(r,i):n[r]?(u=n[r],n[r]=function(){i();u()}):n[r]=i,void 0)}function e(n,t,i){var r,e,u,f,o;return r=document.createElement("iframe"),r.style.display="none",document.body.appendChild(r),e=r.contentDocument||r.contentWindow.document,f='"'+n+'"',t&&(f+=', "'+t+'"'),i&&(f+=', "'+i+'"'),u=e.createElement("script"),u.type="text/javascript",u.text="window.parent = null; window.top = null;window.frameElement = null; var child = window.open("+f+");child.opener = null",e.body.appendChild(u),o=r.contentWindow.child,document.body.removeChild(r),o}function u(n){return"_top"===n||"_self"===n||"_parent"===n}var o=-1!==navigator.userAgent.indexOf("MSIE"),f=window.open;t.open=function(n,t,i){var r;return u(t)?f.apply(window,arguments):o?(r=f.apply(window,arguments),r.opener=null,r):e(n,t,i)};t.patch=function(){window.open=function(){return t.open.apply(this,arguments)}};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports?module.exports=t:exports.blankshield=t);"function"==typeof define&&"object"==typeof define.amd&&define("blankshield",[],function(){return t});n.blankshield=t}(this);!function(n,t){"function"==typeof define&&define.amd?define(["exports"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports):t(n.commonJsStrict={})}(this,function(n){function k(n){if(n in st)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=ot.length;t--;)if((n=ot[t]+i)in st)return n}function y(n,t){n=n||{};for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},y(n[i],t[i])):n[i]=t[i];return n}function d(n){return y({},n)}function g(n){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0);n.dispatchEvent(t)}else n.fireEvent("onchange")}function t(n,t,i){var u,r;"string"==typeof t&&(u=t,(t={})[u]=i);for(r in t)n.style[r]=t[r]}function r(n,t){n.classList?n.classList.add(t):n.className+=" "+t}function ct(n,t){for(var i in t)n.setAttribute(i,t[i])}function h(n){return parseInt(n,10)}function lt(n,t){var i=n.naturalWidth,r=n.naturalHeight,u=t||nt(n),f;return u&&u>=5&&(f=i,i=r,r=f),{width:i,height:r}}function nt(n){return n.exifdata?n.exifdata.Orientation:1}function tt(n,t,i){var u=t.width,f=t.height,r=n.getContext("2d");switch(n.width=t.width,n.height=t.height,r.save(),i){case 2:r.translate(u,0);r.scale(-1,1);break;case 3:r.translate(u,f);r.rotate(Math.PI/1);break;case 4:r.translate(0,f);r.scale(1,-1);break;case 5:n.width=f;n.height=u;r.rotate(Math.PI/2);r.scale(1,-1);break;case 6:n.width=f;n.height=u;r.rotate(Math.PI/2);r.translate(0,-f);break;case 7:n.width=f;n.height=u;r.rotate(Math.PI/-2);r.translate(-u,f);r.scale(1,-1);break;case 8:n.width=f;n.height=u;r.translate(0,u);r.rotate(Math.PI/-2)}r.drawImage(t,0,0,u,f);r.restore()}function ii(){var n,f,e,o,h,c=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||it.call(this);this.data={};this.elements={};n=this.elements.boundary=document.createElement("div");f=this.elements.viewport=document.createElement("div");this.elements.img=document.createElement("img");e=this.elements.overlay=document.createElement("div");this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),this.elements.preview=this.elements.canvas):this.elements.preview=this.elements.img;r(n,"cr-boundary");n.setAttribute("aria-dropeffect","none");o=this.options.boundary.width;h=this.options.boundary.height;t(n,{width:o+(isNaN(o)?"":"px"),height:h+(isNaN(h)?"":"px")});r(f,"cr-viewport");c&&r(f,c);t(f,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"});f.setAttribute("tabindex",0);r(this.elements.preview,"cr-image");ct(this.elements.preview,{alt:"preview","aria-grabbed":"false"});r(e,"cr-overlay");this.element.appendChild(n);n.appendChild(this.elements.preview);n.appendChild(f);n.appendChild(e);r(this.element,"croppie-container");this.options.customClass&&r(this.element,this.options.customClass),function(){function b(t,i){var u=n.elements.preview.getBoundingClientRect(),e=r.y+i,o=r.x+t;n.options.enforceBoundary?(f.top>u.top+i&&f.bottom<u.bottom+i&&(r.y=e),f.left>u.left+t&&f.right<u.right+t&&(r.x=o)):(r.y=e,r.x=o)}function k(t){n.elements.preview.setAttribute("aria-grabbed",t);n.elements.boundary.setAttribute("aria-dropeffect",t?"move":"none")}function d(t){if((void 0===t.button||0===t.button)&&(t.preventDefault(),!c)){if(c=!0,o=t.pageX,h=t.pageY,t.touches){var u=t.touches[0];o=u.pageX;h=u.pageY}k(c);r=i.parse(n.elements.preview);window.addEventListener("mousemove",l);window.addEventListener("touchmove",l);window.addEventListener("mouseup",y);window.addEventListener("touchend",y);document.body.style[s]="none";f=n.elements.viewport.getBoundingClientRect()}}function l(i){var f,s,v,k;i.preventDefault();f=i.pageX;s=i.pageY;i.touches&&(v=i.touches[0],f=v.pageX,s=v.pageY);var d=f-o,nt=s-h,y={};if("touchmove"===i.type&&i.touches.length>1){var c=i.touches[0],l=i.touches[1],w=Math.sqrt((c.pageX-l.pageX)*(c.pageX-l.pageX)+(c.pageY-l.pageY)*(c.pageY-l.pageY));return e||(e=w/n._currentZoom),k=w/e,a.call(n,k),void g(n.elements.zoomer)}b(d,nt);y[u]=r.toString();t(n.elements.preview,y);p.call(n);h=s;o=f}function y(){k(c=!1);window.removeEventListener("mousemove",l);window.removeEventListener("touchmove",l);window.removeEventListener("mouseup",y);window.removeEventListener("touchend",y);document.body.style[s]="";w.call(n);v.call(n);e=0}var o,h,e,f,r,n=this,c=!1;n.elements.overlay.addEventListener("mousedown",d);n.elements.viewport.addEventListener("keydown",function(o){var y=37,h=38,k=39,l=40,a,c;o.shiftKey&&(o.keyCode===h||o.keyCode===l)?(c=0,c=o.keyCode===h?parseFloat(n.elements.zoomer.value,10)+parseFloat(n.elements.zoomer.step,10):parseFloat(n.elements.zoomer.value,10)-parseFloat(n.elements.zoomer.step,10),n.setZoom(c)):n.options.enableKeyMovement&&o.keyCode>=37&&o.keyCode<=40&&(o.preventDefault(),a=function(n){switch(n){case y:return[1,0];case h:return[0,1];case k:return[-1,0];case l:return[0,-1]}}(o.keyCode),r=i.parse(n.elements.preview),document.body.style[s]="none",f=n.elements.viewport.getBoundingClientRect(),function(i){var o=i[0],h=i[1],f={};b(o,h);f[u]=r.toString();t(n.elements.preview,f);p.call(n);document.body.style[s]="";w.call(n);v.call(n);e=0}(a))});n.elements.overlay.addEventListener("touchstart",d)}.call(this);this.options.enableZoom&&function(){function f(){vt.call(n,{value:parseFloat(t.value),origin:new l(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:i.parse(n.elements.preview)})}function e(t){var i,r;if("ctrl"===n.options.mouseWheelZoom&&!0!==t.ctrlKey)return 0;i=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0;r=n._currentZoom+i*n._currentZoom;t.preventDefault();a.call(n,r);f.call(n)}var n=this,u=n.elements.zoomerWrap=document.createElement("div"),t=n.elements.zoomer=document.createElement("input");r(u,"cr-slider-wrap");r(t,"cr-slider");t.type="range";t.step="0.0001";t.value=1;t.style.display=n.options.showZoomer?"":"none";t.setAttribute("aria-label","zoom");n.element.appendChild(u);u.appendChild(t);n._currentZoom=1;n.elements.zoomer.addEventListener("input",f);n.elements.zoomer.addEventListener("change",f);n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",e),n.elements.boundary.addEventListener("DOMMouseScroll",e))}.call(this);this.options.enableResize&&function(){function h(t){var i,r;void 0!==t.button&&0!==t.button||(t.preventDefault(),y)||(i=n.elements.overlay.getBoundingClientRect(),(y=!0,e=t.pageX,o=t.pageY,a=-1!==t.currentTarget.className.indexOf("vertical")?"v":"h",b=i.width,k=i.height,t.touches)&&(r=t.touches[0],e=r.pageX,o=r.pageY),window.addEventListener("mousemove",c),window.addEventListener("touchmove",c),window.addEventListener("mouseup",l),window.addEventListener("touchend",l),document.body.style[s]="none")}function c(r){var u=r.pageX,f=r.pageY,s;(r.preventDefault(),r.touches)&&(s=r.touches[0],u=s.pageX,f=s.pageY);var h=u-e,c=f-o,l=n.options.viewport.height+c,y=n.options.viewport.width+h;"v"===a&&l>=d&&l<=k?(t(i,{height:l+"px"}),n.options.boundary.height+=c,t(n.elements.boundary,{height:n.options.boundary.height+"px"}),n.options.viewport.height+=c,t(n.elements.viewport,{height:n.options.viewport.height+"px"})):"h"===a&&y>=d&&y<=b&&(t(i,{width:y+"px"}),n.options.boundary.width+=h,t(n.elements.boundary,{width:n.options.boundary.width+"px"}),n.options.viewport.width+=h,t(n.elements.viewport,{width:n.options.viewport.width+"px"}));p.call(n);ft.call(n);w.call(n);v.call(n);o=f;e=u}function l(){y=!1;window.removeEventListener("mousemove",c);window.removeEventListener("touchmove",c);window.removeEventListener("mouseup",l);window.removeEventListener("touchend",l);document.body.style[s]=""}var a,e,o,b,k,u,f,n=this,i=document.createElement("div"),y=!1,d=50;r(i,"cr-resizer");t(i,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"});this.options.resizeControls.height&&(r(u=document.createElement("div"),"cr-resizer-vertical"),i.appendChild(u));this.options.resizeControls.width&&(r(f=document.createElement("div"),"cr-resizer-horisontal"),i.appendChild(f));u&&(u.addEventListener("mousedown",h),u.addEventListener("touchstart",h));f&&(f.addEventListener("mousedown",h),f.addEventListener("touchstart",h));this.elements.boundary.appendChild(i)}.call(this)}function it(){return this.options.enableExif&&window.EXIF}function a(n){if(this.options.enableZoom){var t=this.elements.zoomer,i=c(n,4);t.value=Math.max(t.min,Math.min(t.max,i))}}function vt(n){function c(){var n={};n[u]=f.toString();n[o]=s.toString();t(r.elements.preview,n)}var r=this,f=n?n.transform:i.parse(r.elements.preview),y=n?n.viewportRect:r.elements.viewport.getBoundingClientRect(),s=n?n.origin:new l(r.elements.preview);if(r._currentZoom=n?n.value:r._currentZoom,f.scale=r._currentZoom,r.elements.zoomer.setAttribute("aria-valuenow",r._currentZoom),c(),r.options.enforceBoundary){var a=function(n){var t=this._currentZoom,i=n.width,r=n.height,v=this.elements.boundary.clientWidth/2,y=this.elements.boundary.clientHeight/2,u=this.elements.preview.getBoundingClientRect(),f=u.width,e=u.height,o=i/2,s=r/2,h=-1*(o/t-v),c=-1*(s/t-y),l=1/t*o,a=1/t*s;return{translate:{maxX:h,minX:h-(f*(1/t)-i*(1/t)),maxY:c,minY:c-(e*(1/t)-r*(1/t))},origin:{maxX:f*(1/t)-l,minX:l,maxY:e*(1/t)-a,minY:a}}}.call(r,y),e=a.translate,h=a.origin;f.x>=e.maxX&&(s.x=h.minX,f.x=e.maxX);f.x<=e.minX&&(s.x=h.maxX,f.x=e.minX);f.y>=e.maxY&&(s.y=h.minY,f.y=e.maxY);f.y<=e.minY&&(s.y=h.maxY,f.y=e.minY)}c();wt.call(r);v.call(r)}function w(){var r=this._currentZoom,c=this.elements.preview.getBoundingClientRect(),f=this.elements.viewport.getBoundingClientRect(),h=i.parse(this.elements.preview.style[u]),a=new l(this.elements.preview),v=f.top-c.top+f.height/2,y=f.left-c.left+f.width/2,n={},e={},s;n.y=v/r;n.x=y/r;e.y=(n.y-a.y)*(1-r);e.x=(n.x-a.x)*(1-r);h.x-=e.x;h.y-=e.y;s={};s[o]=n.x+"px "+n.y+"px";s[u]=h.toString();t(this.elements.preview,s)}function p(){if(this.elements){var i=this.elements.boundary.getBoundingClientRect(),n=this.elements.preview.getBoundingClientRect();t(this.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-i.top+"px",left:n.left-i.left+"px"})}}function v(){var t,n=this.get();bt.call(this)&&(this.options.update.call(this,n),this.$&&"undefined"==typeof Prototype?this.$(this.element).trigger("update.croppie",n):(window.CustomEvent?t=new CustomEvent("update",{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,n),this.element.dispatchEvent(t)))}function bt(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function ut(){var r,n={},e=this.elements.preview,f=new i(0,0,1),s=new l;bt.call(this)&&!this.data.bound&&(this.data.bound=!0,n[u]=f.toString(),n[o]=s.toString(),n.opacity=1,t(e,n),r=this.elements.preview.getBoundingClientRect(),this._originalImageWidth=r.width,this._originalImageHeight=r.height,this.data.orientation=nt(this.elements.img),this.options.enableZoom?ft.call(this,!0):this._currentZoom=1,f.scale=this._currentZoom,n[u]=f.toString(),t(e,n),this.data.points.length?function(n){if(4!==n.length)throw"Croppie - Invalid number of points supplied: "+n;var c=n[2]-n[0],r=this.elements.viewport.getBoundingClientRect(),s=this.elements.boundary.getBoundingClientRect(),h={left:r.left-s.left,top:r.top-s.top},f=r.width/c,l=n[1],v=n[0],y=-1*n[1]+h.top,p=-1*n[0]+h.left,e={};e[o]=v+"px "+l+"px";e[u]=new i(p,y,f).toString();t(this.elements.preview,e);a.call(this,f);this._currentZoom=f}.call(this,this.data.points):function(){var r=this.elements.preview.getBoundingClientRect(),n=this.elements.viewport.getBoundingClientRect(),f=this.elements.boundary.getBoundingClientRect(),e=n.left-f.left,o=n.top-f.top,s=e-(r.width-n.width)/2,h=o-(r.height-n.height)/2,c=new i(s,h,this._currentZoom);t(this.elements.preview,u,c.toString())}.call(this),w.call(this),p.call(this))}function ft(n){var e,o,s,h,i=0,u=this.options.maxZoom||1.5,t=this.elements.zoomer,f=parseFloat(t.value),l=this.elements.boundary.getBoundingClientRect(),r=lt(this.elements.img,this.data.orientation),v=this.elements.viewport.getBoundingClientRect();this.options.enforceBoundary&&(s=v.width/r.width,h=v.height/r.height,i=Math.max(s,h));i>=u&&(u=i+1);t.min=c(i,4);t.max=c(u,4);!n&&(f<t.min||f>t.max)?a.call(this,f<t.min?t.min:t.max):n&&(o=Math.max(l.width/r.width,l.height/r.height),e=null!==this.data.boundZoom?this.data.boundZoom:o,a.call(this,e));g(t)}function et(n){var r=n.points,s=h(r[0]),c=h(r[1]),u=h(r[2])-s,f=h(r[3])-c,l=n.circle,i=document.createElement("canvas"),t=i.getContext("2d"),e=n.outputWidth||u,o=n.outputHeight||f;return n.outputWidth&&n.outputHeight,i.width=e,i.height=o,n.backgroundColor&&(t.fillStyle=n.backgroundColor,t.fillRect(0,0,e,o)),!1!==this.options.enforceBoundary&&(u=Math.min(u,this._originalImageWidth),f=Math.min(f,this._originalImageHeight)),t.drawImage(this.elements.preview,s,c,u,f,0,0,e,o),l&&(t.fillStyle="#fff",t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(i.width/2,i.height/2,i.width/2,0,2*Math.PI,!0),t.closePath(),t.fill()),i}function kt(n,t){var f,e,o,r,i=this,u=[],s=null,c=it.call(i);if("string"==typeof n)f=n,n={};else if(Array.isArray(n))u=n.slice();else{if(void 0===n&&i.data.url)return ut.call(i),v.call(i),null;f=n.url;u=n.points||[];s=void 0===n.zoom?null:n.zoom}return i.data.bound=!1,i.data.url=f||i.data.url,i.data.boundZoom=s,(e=f,o=c,r=new Image,r.style.opacity=0,new Promise(function(n){function t(){r.style.opacity=1;setTimeout(function(){n(r)},1)}r.removeAttribute("crossOrigin");e.match(/^https?:\/\/|^\/\//)&&r.setAttribute("crossOrigin","anonymous");r.onload=function(){o?EXIF.getData(r,function(){t()}):t()};r.src=e})).then(function(r){if(function(n){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(t){n.classList.add(t)}),this.elements.img.parentNode.replaceChild(n,this.elements.img),this.elements.preview=n);this.elements.img=n}.call(i,r),u.length)i.options.relative&&(u=[u[0]*r.naturalWidth/100,u[1]*r.naturalHeight/100,u[2]*r.naturalWidth/100,u[3]*r.naturalHeight/100]);else{var e,o,f=lt(r),c=i.elements.viewport.getBoundingClientRect(),s=c.width/c.height;f.width/f.height>s?e=(o=f.height)*s:(e=f.width,o=f.height/s);var l=(f.width-e)/2,a=(f.height-o)/2,y=l+e,p=a+o;i.data.points=[l,a,y,p]}i.data.points=u.map(function(n){return parseFloat(n)});i.options.useCanvas&&function(n){var t=this.elements.canvas,i=this.elements.img,r=t.getContext("2d"),u=it.call(this);n=this.options.enableOrientation&&n;r.clearRect(0,0,t.width,t.height);t.width=i.width;t.height=i.height;u&&!n?tt(t,i,h(nt(i)||0)):n&&tt(t,i,n)}.call(i,n.orientation||1);ut.call(i);v.call(i);t&&t()}).catch(function(n){console.error("Croppie:"+n)})}function c(n,t){return parseFloat(n).toFixed(t||0)}function dt(){var o=this.elements.preview.getBoundingClientRect(),i=this.elements.viewport.getBoundingClientRect(),r=i.left-o.left,u=i.top-o.top,s=(i.width-this.elements.viewport.offsetWidth)/2,h=(i.height-this.elements.viewport.offsetHeight)/2,f=r+this.elements.viewport.offsetWidth+s,e=u+this.elements.viewport.offsetHeight+h,n=this._currentZoom,t;return(n===1/0||isNaN(n))&&(n=1),t=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY,r=Math.max(t,r/n),u=Math.max(t,u/n),f=Math.max(t,f/n),e=Math.max(t,e/n),{points:[c(r),c(u),c(f),c(e)],zoom:n,orientation:this.data.orientation}}function ri(n){var f=this,i=dt.call(f),e=y(d(gt),d(n)),c="string"==typeof n?n:e.type||"base64",u=e.size||"viewport",s=e.format,l=e.quality,a=e.backgroundColor,v="boolean"==typeof e.circle?e.circle:"circle"===f.options.viewport.type,o=f.elements.viewport.getBoundingClientRect(),h=o.width/o.height;return"viewport"===u?(i.outputWidth=o.width,i.outputHeight=o.height):"object"==typeof u&&(u.width&&u.height?(i.outputWidth=u.width,i.outputHeight=u.height):u.width?(i.outputWidth=u.width,i.outputHeight=u.width/h):u.height&&(i.outputWidth=u.height*h,i.outputHeight=u.height)),ni.indexOf(s)>-1&&(i.format="image/"+s,i.quality=l),i.circle=v,i.url=f.data.url,i.backgroundColor=a,new Promise(function(n){switch(c.toLowerCase()){case"rawcanvas":n(et.call(f,i));break;case"canvas":case"base64":n(function(n){return et.call(this,n).toDataURL(n.format,n.quality)}.call(f,i));break;case"blob":(function(n){var t=this;return new Promise(function(i){et.call(t,n).toBlob(function(n){i(n)},n.format,n.quality)})}).call(f,i).then(n);break;default:n(function(n){var i=n.points,u=document.createElement("div"),f=document.createElement("img"),e=i[2]-i[0],o=i[3]-i[1];return r(u,"croppie-result"),u.appendChild(f),t(f,{left:-1*i[0]+"px",top:-1*i[1]+"px"}),f.src=n.url,t(u,{width:e+"px",height:o+"px"}),u}.call(f,i))}})}function ui(n){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var i,r,t,u,f,e=this.elements.canvas;this.data.orientation=(i=this.data.orientation,r=n,t=ht.indexOf(i)>-1?ht:ti,u=t.indexOf(i),f=r/90%t.length,t[(t.length+u+f%t.length)%t.length]);tt(e,this.elements.img,this.data.orientation);ft.call(this);vt.call(this);copy=null}function f(n,t){var i,u,e;if(n.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");(this.element=n,this.options=y(d(f.defaults),t),"img"===this.element.tagName.toLowerCase())&&(i=this.element,r(i,"cr-original-image"),ct(i,{"aria-hidden":"true",alt:""}),u=document.createElement("div"),this.element.parentNode.appendChild(u),u.appendChild(i),this.element=u,this.options.url=this.options.url||i.src);(ii.call(this),this.options.url)&&(e={url:this.options.url,points:this.options.points},delete this.options.url,delete this.options.points,kt.call(this,e))}var at,i,l,rt,yt,pt,b,wt,gt,ni,e;"function"!=typeof Promise&&function(n){function i(n,t){return function(){n.apply(t,arguments)}}function t(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=null;this._value=null;this._deferreds=[];o(n,i(f,this),i(r,this))}function u(n){var t=this;return null===this._state?void this._deferreds.push(n):void s(function(){var i=t._state?n.onFulfilled:n.onRejected,r;if(null!==i){try{r=i(t._value)}catch(t){return void n.reject(t)}n.resolve(r)}else(t._state?n.resolve:n.reject)(t._value)})}function f(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if("function"==typeof t)return void o(i(t,n),i(f,this),i(r,this))}this._state=!0;this._value=n;e.call(this)}catch(n){r.call(this,n)}}function r(n){this._state=!1;this._value=n;e.call(this)}function e(){for(var n=0,t=this._deferreds.length;t>n;n++)u.call(this,this._deferreds[n]);this._deferreds=null}function o(n,t,i){var r=!1;try{n(function(n){r||(r=!0,t(n))},function(n){r||(r=!0,i(n))})}catch(n){if(r)return;r=!0;i(n)}}var h=setTimeout,s="function"==typeof setImmediate&&setImmediate||function(n){h(n,1)},c=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};t.prototype.catch=function(n){return this.then(null,n)};t.prototype.then=function(n,i){var r=this;return new t(function(t,f){u.call(r,new function(n,t,i,r){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.resolve=i;this.reject=r}(n,i,t,f))})};t.all=function(){var n=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t(function(t,i){function u(r,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(n){u(r,n)},i)}n[r]=e;0==--f&&t(n)}catch(n){i(n)}}if(0===n.length)return t([]);for(var f=n.length,r=0;r<n.length;r++)u(r,n[r])})};t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.race=function(n){return new t(function(t,i){for(var r=0,u=n.length;u>r;r++)n[r].then(t,i)})};t._setImmediateFn=function(n){s=n};"undefined"!=typeof module&&module.exports?module.exports=t:n.Promise||(n.Promise=t)}(this);"function"!=typeof CustomEvent&&function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}n.prototype=window.Event.prototype;window.CustomEvent=n}();HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,t,i){for(var u=atob(this.toDataURL(t,i).split(",")[1]),f=u.length,e=new Uint8Array(f),r=0;r<f;r++)e[r]=u.charCodeAt(r);n(new Blob([e],{type:t||"image/png"}))}});var o,u,s,ot=["Webkit","Moz","ms"],st=document.createElement("div").style,ht=[1,8,3,6],ti=[2,7,4,5];u=k("transform");o=k("transformOrigin");s=k("userSelect");at={translate3d:{suffix:", 0px"},translate:{suffix:""}};i=function(n,t,i){this.x=parseFloat(n);this.y=parseFloat(t);this.scale=parseFloat(i)};i.parse=function(n){return n.style?i.parse(n.style[u]):n.indexOf("matrix")>-1||n.indexOf("none")>-1?i.fromMatrix(n):i.fromString(n)};i.fromMatrix=function(n){var t=n.substring(7).split(",");return t.length&&"none"!==n||(t=[1,0,0,1,0,0]),new i(h(t[4]),h(t[5]),parseFloat(t[0]))};i.fromString=function(n){var r=n.split(") "),t=r[0].substring(f.globals.translate.length+1).split(","),u=r.length>1?r[1].substring(6):1,e=t.length>1?t[0]:0,o=t.length>1?t[1]:0;return new i(e,o,u)};i.prototype.toString=function(){var n=at[f.globals.translate].suffix||"";return f.globals.translate+"("+this.x+"px, "+this.y+"px"+n+") scale("+this.scale+")"};l=function(n){if(!n||!n.style[o])return this.x=0,void(this.y=0);var t=n.style[o].split(" ");this.x=parseFloat(t[0]);this.y=parseFloat(t[1])};l.prototype.toString=function(){return this.x+"px "+this.y+"px"};wt=(rt=p,yt=500,function(){var n=this,t=arguments,i=pt&&!b;clearTimeout(b);b=setTimeout(function(){b=null;pt||rt.apply(n,t)},yt);i&&rt.apply(n,t)});gt={type:"canvas",format:"png",quality:1};ni=["jpeg","webp","png"];window.jQuery&&(e=window.jQuery,e.fn.croppie=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1),t=e(this).data("croppie");return"get"===n?t.get():"result"===n?t.result.apply(t,i):"bind"===n?t.bind.apply(t,i):this.each(function(){var t=e(this).data("croppie"),r;if(t){if(r=t[n],!e.isFunction(r))throw"Croppie "+n+" method not found";r.apply(t,i);"destroy"===n&&e(this).removeData("croppie")}})}return this.each(function(){var t=new f(this,n);t.$=e;e(this).data("croppie",t)})});f.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}};f.globals={translate:"translate3d"};y(f.prototype,{bind:function(n,t){return kt.call(this,n,t)},get:function(){var t=dt.call(this),n=t.points;return this.options.relative&&(n[0]/=this.elements.img.naturalWidth/100,n[1]/=this.elements.img.naturalHeight/100,n[2]/=this.elements.img.naturalWidth/100,n[3]/=this.elements.img.naturalHeight/100),t},result:function(n){return ri.call(this,n)},refresh:function(){return function(){ut.call(this)}.call(this)},setZoom:function(n){a.call(this,n);g(this.elements.zoomer)},rotate:function(n){ui.call(this,n)},destroy:function(){return function(){var n,t;this.element.removeChild(this.elements.boundary);n=this.element;t="croppie-container";n.classList?n.classList.remove(t):n.className=n.className.replace(t,"");this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap);delete this.elements}.call(this)}});n.Croppie=window.Croppie=f})